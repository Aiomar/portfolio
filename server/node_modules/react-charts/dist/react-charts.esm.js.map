{"version":3,"file":"react-charts.esm.js","sources":["../src/utils/Utils.ts","../src/hooks/useGetLatest.ts","../src/hooks/useLatest.ts","../src/hooks/usePrevious.ts","../src/hooks/useIsomorphicLayoutEffect.ts","../src/hooks/useChartState.tsx","../src/hooks/useChartContext.tsx","../src/utils/Raf.ts","../src/primitives/Rectangle.tsx","../node_modules/regenerator-runtime/runtime.js","../d3/index.js","../src/primitives/Path.tsx","../src/utils/Constants.ts","../src/components/Voronoi.tsx","../src/primitives/Line.tsx","../src/primitives/Text.tsx","../src/primitives/Group.tsx","../src/components/AxisLinear.useMeasure.ts","../src/components/AxisLinear.tsx","../src/components/Axis.tsx","../src/components/Tooltip.tsx","../src/components/Cursor.tsx","../src/components/Brush.tsx","../src/components/ChartInner.tsx","../src/components/pipeline/useMaterializeData.js","../src/hooks/useSeriesStyle.ts","../src/hooks/useDatumStyle.ts","../src/primitives/Circle.tsx","../src/seriesTypes/Line.tsx","../src/seriesTypes/Bubble.tsx","../src/seriesTypes/Area.tsx","../src/seriesTypes/Bar.tsx","../src/components/pipeline/useSeriesOptions.js","../src/components/pipeline/useSeriesTypes.js","../src/components/pipeline/useDimensions.js","../src/utils/buildAxis.linear.ts","../src/utils/buildAxis.ts","../src/components/pipeline/useAxes.js","../src/components/pipeline/useStackData.js","../src/components/TooltipRenderer.tsx","../src/components/pipeline/useTooltip.js","../src/components/pipeline/useCursors.tsx","../src/components/Chart.tsx"],"sourcesContent":["export function buildStyleGetters(series, defaults) {\n  series.getStatusStyle = (focused, decorator) => {\n    const status = getStatus(series, focused)\n    series.style = getStatusStyle(series, status, decorator, defaults)\n    return series.style\n  }\n\n  // We also need to decorate each datum in the same fashion\n  series.datums.forEach(datum => {\n    datum.getStatusStyle = (focused, decorator) => {\n      const status = getStatus(datum, focused)\n      datum.style = getStatusStyle(datum, status, decorator, defaults)\n      return datum.style\n    }\n  })\n}\n\nfunction getStatusStyle(item, status, decorator, defaults) {\n  if (item.series) {\n    defaults = {\n      ...defaults,\n      ...item.series.style,\n    }\n  }\n\n  return materializeStyles(\n    decorator({\n      ...item,\n      ...status,\n    }),\n    defaults\n  )\n}\n\nfunction getStatus(item, focused) {\n  const status = {\n    focused: false,\n    otherFocused: false,\n  }\n\n  if (!focused) {\n    return status\n  }\n\n  // If the item is a datum\n  if (typeof item.primary !== 'undefined') {\n    const length = focused.group.length\n    for (let i = 0; i < length; i++) {\n      if (\n        focused.group[i].seriesId === item.series.id &&\n        focused.group[i].index === item.index\n      ) {\n        status.focused = true\n        break\n      }\n    }\n    status.otherFocused = !status.focused\n    // For series\n  } else if (focused.series) {\n    status.focused = focused.series.id === item.id\n    status.otherFocused = !status.focused\n  }\n\n  return status\n}\n\nfunction normalizeColor(style, defaults) {\n  return {\n    ...style,\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color,\n  }\n}\n\nconst elementTypes = ['area', 'line', 'rectangle', 'circle']\nfunction materializeStyles(style = {}, defaults = {}) {\n  style = normalizeColor(style, defaults)\n  for (let i = 0; i < elementTypes.length; i++) {\n    const type = elementTypes[i]\n    if (style[type] && defaults[type]) {\n      style[type] = materializeStyles(style[type], defaults)\n    }\n  }\n  return style\n}\n\nexport function isValidPoint(d) {\n  if (d === null) {\n    return false\n  }\n  if (typeof d === 'undefined') {\n    return false\n  }\n  if (typeof d === 'string' && d === 'null') {\n    return false\n  }\n  return true\n}\n\nexport function getClosestPoint(position, datums) {\n  if (!datums || !position || !datums.length) {\n    return\n  }\n  let closestDistance = Infinity\n  let closestDatum = datums[0]\n  datums.forEach(datum => {\n    datum.boundingPoints.forEach(pointerPoint => {\n      const distance = Math.sqrt(\n        (pointerPoint.x - position.x) ** 2 + (pointerPoint.y - position.y) ** 2\n      )\n      if (distance < closestDistance) {\n        closestDistance = distance\n        closestDatum = datum\n      }\n    })\n  })\n  return closestDatum\n}\n\nexport function getAxisByAxisId(axes, AxisId) {\n  return axes.find(d => d.id === AxisId) || axes[0]\n}\n\nexport function getAxisIndexByAxisId(axes, AxisId) {\n  const index = axes.findIndex(d => d.id === AxisId)\n  return index > -1 ? index : 0\n}\n\nexport function translateX(x) {\n  return `translate3d(${Math.round(x)}px, 0, 0)`\n}\n\nexport function translateY(y) {\n  return `translate3d(0, ${Math.round(y)}px, 0)`\n}\n\nexport function translate(x, y) {\n  return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`\n}\n\nexport function identity(d) {\n  return d\n}\n\nexport function functionalUpdate(updater, old) {\n  return typeof updater === 'function' ? updater(old) : updater\n}\n\nexport function round(num, step, rounder = Math.round) {\n  return rounder(rounder(num / step) * step)\n}\n","import React from 'react'\n\nexport default function useGetLatest(obj) {\n  const ref = React.useRef()\n  const getterRef = React.useRef()\n\n  ref.current = obj\n  if (!getterRef.current) {\n    getterRef.current = () => ref.current\n  }\n\n  return getterRef.current\n}\n","import React from \"react\";\n\nexport default function useLatest(obj, when = true) {\n  const ref = React.useRef();\n  if (when) {\n    ref.current = obj;\n  }\n  return ref.current;\n}\n","import React from \"react\";\n\nexport default function usePrevious(val) {\n  const ref = React.useRef();\n\n  React.useEffect(\n    () => {\n      ref.current = val;\n    },\n    [val]\n  );\n\n  return ref.current;\n}\n","import React from 'react'\n\nexport default typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : React.useEffect\n","import React from 'react';\nimport { functionalUpdate } from '../utils/Utils';\nimport useGetLatest from './useGetLatest';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\n\nconst chartContext = React.createContext();\n\nexport function createChartState(initialState) {\n  let listeners = [];\n  const api = {};\n\n  api.setState = (updater) => {\n    const newState = functionalUpdate(updater, api.state);\n    if (api.state === newState) {\n      return;\n    }\n\n    api.state = newState;\n    listeners.forEach((d) => d());\n  };\n\n  api.state = functionalUpdate(initialState, api.setState);\n\n  api.subscribe = (cb) => {\n    listeners.push(cb);\n    return () => (listeners = listeners.filter((d) => d !== cb));\n  };\n\n  api.Provider = ({ children, state }) => {\n    return <chartContext.Provider value={api} children={children} />;\n  };\n\n  return api;\n}\n\nexport default function useChartState(selector, eqType = undefined) {\n  const apiInstance = React.useContext(chartContext);\n  const [, rerender] = React.useReducer((d) => d + 1, 0);\n  const slice = selector ? selector(apiInstance.state) : apiInstance.state;\n  const valueRef = React.useRef(slice);\n  const getSelector = useGetLatest(selector);\n  const getEqType = useGetLatest(eqType);\n\n  useIsomorphicLayoutEffect(\n    () =>\n      apiInstance.subscribe(() => {\n        const selector = getSelector();\n        const eqType = getEqType();\n\n        const slice = selector\n          ? selector(apiInstance.state)\n          : apiInstance.state;\n\n        const eqFn = eqType === 'shallow' ? shallowEq : Object.is;\n\n        if (!eqFn(valueRef.current, slice)) {\n          valueRef.current = slice;\n          rerender();\n        }\n      }),\n    [getSelector, getEqType]\n  );\n\n  return [valueRef.current, apiInstance.setState];\n}\n\nexport function useChartStateRef(selector) {\n  const apiInstance = React.useContext(chartContext);\n  const slice = selector ? selector(apiInstance.state) : apiInstance.state;\n  const valueRef = React.useRef(slice);\n  const getSelector = useGetLatest(selector);\n\n  useIsomorphicLayoutEffect(\n    () =>\n      apiInstance.subscribe(() => {\n        const selector = getSelector();\n        valueRef.current = selector\n          ? selector(apiInstance.state)\n          : apiInstance.state;\n      }),\n    [getSelector]\n  );\n\n  return [valueRef, apiInstance.setState];\n}\n\nfunction shallowEq(a, b) {\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n\n  if (aKeys.length !== bKeys.length) {\n    return false;\n  }\n\n  if (Object.keys(aKeys).some((key) => a[key] !== b[key])) {\n    return false;\n  }\n}\n","import React from 'react'\nimport useGetLatest from './useGetLatest'\n\nconst chartContext = React.createContext()\n\nexport function ChartContextProvider({ value, children }) {\n  const getValue = useGetLatest(value)\n\n  return <chartContext.Provider value={getValue} children={children} />\n}\n\nexport default function useChartContext() {\n  return React.useContext(chartContext)()\n}\n","import now from 'performance-now'\n\nvar root = typeof window === 'undefined' ? global : window,\n  vendors = ['moz', 'webkit'],\n  suffix = 'AnimationFrame',\n  raf = root['request' + suffix],\n  caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf =\n    root[vendors[i] + 'Cancel' + suffix] ||\n    root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif (!raf || !caf) {\n  var last = 0,\n    id = 0,\n    queue = [],\n    frameDuration = 1000 / 60\n\n  raf = function (callback) {\n    if (queue.length === 0) {\n      var _now = now(),\n        next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function () {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last)\n            } catch (e) {\n              setTimeout(function () {\n                throw e\n              }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false,\n    })\n    return id\n  }\n\n  caf = function (handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nexport default function Raf(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\n\nRaf.cancel = function () {\n  caf.apply(root, arguments)\n}\n\nRaf.polyfill = function (object) {\n  if (!object) {\n    object = root\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","import React from 'react';\n//\n\nconst defaultStyle = {\n  strokeWidth: 0,\n  fill: '#333',\n  opacity: 1,\n  rx: 0,\n  ry: 0,\n};\n\ntype Props = React.ComponentProps<'rect'> & {\n  x1: number;\n  x2: number;\n  y1: number;\n  y2: number;\n};\n\nconst Rectangle = React.forwardRef<SVGRectElement, Props>(\n  ({ style, opacity = 1, x1, y1, x2, y2, ...rest }, ref) => {\n    const resolvedStyle = {\n      ...defaultStyle,\n      ...style,\n    };\n\n    const xStart = Math.min(x1, x2);\n    const yStart = Math.min(y1, y2);\n    const xEnd = Math.max(x1, x2);\n    const yEnd = Math.max(y1, y2);\n\n    const height = Math.max(yEnd - yStart, 0);\n    const width = Math.max(xEnd - xStart, 0);\n\n    return (\n      <rect\n        ref={ref}\n        {...rest}\n        x={xStart}\n        y={yStart}\n        width={width}\n        height={height}\n        style={resolvedStyle}\n      />\n    );\n  }\n);\n\nexport default Rectangle;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","const EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\nclass Delaunator {\n  static from(points, getX = defaultGetX, getY = defaultGetY) {\n    const n = points.length;\n    const coords = new Float64Array(n * 2);\n\n    for (let i = 0; i < n; i++) {\n      const p = points[i];\n      coords[2 * i] = getX(p);\n      coords[2 * i + 1] = getY(p);\n    }\n\n    return new Delaunator(coords);\n  }\n\n  constructor(coords) {\n    const n = coords.length >> 1;\n    if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n    this.coords = coords; // arrays that will store the triangulation graph\n\n    const maxTriangles = Math.max(2 * n - 5, 0);\n    this._triangles = new Uint32Array(maxTriangles * 3);\n    this._halfedges = new Int32Array(maxTriangles * 3); // temporary arrays for tracking the edges of the advancing convex hull\n\n    this._hashSize = Math.ceil(Math.sqrt(n));\n    this._hullPrev = new Uint32Array(n); // edge to prev edge\n\n    this._hullNext = new Uint32Array(n); // edge to next edge\n\n    this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n\n    this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n    // temporary arrays for sorting points\n\n    this._ids = new Uint32Array(n);\n    this._dists = new Float64Array(n);\n    this.update();\n  }\n\n  update() {\n    const {\n      coords,\n      _hullPrev: hullPrev,\n      _hullNext: hullNext,\n      _hullTri: hullTri,\n      _hullHash: hullHash\n    } = this;\n    const n = coords.length >> 1; // populate an array of point indices; calculate input data bbox\n\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n\n    for (let i = 0; i < n; i++) {\n      const x = coords[2 * i];\n      const y = coords[2 * i + 1];\n      if (x < minX) minX = x;\n      if (y < minY) minY = y;\n      if (x > maxX) maxX = x;\n      if (y > maxY) maxY = y;\n      this._ids[i] = i;\n    }\n\n    const cx = (minX + maxX) / 2;\n    const cy = (minY + maxY) / 2;\n    let minDist = Infinity;\n    let i0, i1, i2; // pick a seed point close to the center\n\n    for (let i = 0; i < n; i++) {\n      const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n\n      if (d < minDist) {\n        i0 = i;\n        minDist = d;\n      }\n    }\n\n    const i0x = coords[2 * i0];\n    const i0y = coords[2 * i0 + 1];\n    minDist = Infinity; // find the point closest to the seed\n\n    for (let i = 0; i < n; i++) {\n      if (i === i0) continue;\n      const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n\n      if (d < minDist && d > 0) {\n        i1 = i;\n        minDist = d;\n      }\n    }\n\n    let i1x = coords[2 * i1];\n    let i1y = coords[2 * i1 + 1];\n    let minRadius = Infinity; // find the third point which forms the smallest circumcircle with the first two\n\n    for (let i = 0; i < n; i++) {\n      if (i === i0 || i === i1) continue;\n      const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n\n      if (r < minRadius) {\n        i2 = i;\n        minRadius = r;\n      }\n    }\n\n    let i2x = coords[2 * i2];\n    let i2y = coords[2 * i2 + 1];\n\n    if (minRadius === Infinity) {\n      // order collinear points by dx (or dy if all x are identical)\n      // and return the list as a hull\n      for (let i = 0; i < n; i++) {\n        this._dists[i] = coords[2 * i] - coords[0] || coords[2 * i + 1] - coords[1];\n      }\n\n      quicksort(this._ids, this._dists, 0, n - 1);\n      const hull = new Uint32Array(n);\n      let j = 0;\n\n      for (let i = 0, d0 = -Infinity; i < n; i++) {\n        const id = this._ids[i];\n\n        if (this._dists[id] > d0) {\n          hull[j++] = id;\n          d0 = this._dists[id];\n        }\n      }\n\n      this.hull = hull.subarray(0, j);\n      this.triangles = new Uint32Array(0);\n      this.halfedges = new Uint32Array(0);\n      return;\n    } // swap the order of the seed points for counter-clockwise orientation\n\n\n    if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n      const i = i1;\n      const x = i1x;\n      const y = i1y;\n      i1 = i2;\n      i1x = i2x;\n      i1y = i2y;\n      i2 = i;\n      i2x = x;\n      i2y = y;\n    }\n\n    const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n    this._cx = center.x;\n    this._cy = center.y;\n\n    for (let i = 0; i < n; i++) {\n      this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n    } // sort the points by distance from the seed triangle circumcenter\n\n\n    quicksort(this._ids, this._dists, 0, n - 1); // set up the seed triangle as the starting hull\n\n    this._hullStart = i0;\n    let hullSize = 3;\n    hullNext[i0] = hullPrev[i2] = i1;\n    hullNext[i1] = hullPrev[i0] = i2;\n    hullNext[i2] = hullPrev[i1] = i0;\n    hullTri[i0] = 0;\n    hullTri[i1] = 1;\n    hullTri[i2] = 2;\n    hullHash.fill(-1);\n    hullHash[this._hashKey(i0x, i0y)] = i0;\n    hullHash[this._hashKey(i1x, i1y)] = i1;\n    hullHash[this._hashKey(i2x, i2y)] = i2;\n    this.trianglesLen = 0;\n\n    this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n    for (let k = 0, xp, yp; k < this._ids.length; k++) {\n      const i = this._ids[k];\n      const x = coords[2 * i];\n      const y = coords[2 * i + 1]; // skip near-duplicate points\n\n      if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n      xp = x;\n      yp = y; // skip seed triangle points\n\n      if (i === i0 || i === i1 || i === i2) continue; // find a visible edge on the convex hull using edge hash\n\n      let start = 0;\n\n      for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n        start = hullHash[(key + j) % this._hashSize];\n        if (start !== -1 && start !== hullNext[start]) break;\n      }\n\n      start = hullPrev[start];\n      let e = start,\n          q;\n\n      while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n        e = q;\n\n        if (e === start) {\n          e = -1;\n          break;\n        }\n      }\n\n      if (e === -1) continue; // likely a near-duplicate point; skip it\n      // add the first triangle from the point\n\n      let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]); // recursively flip triangles from the point until they satisfy the Delaunay condition\n\n\n      hullTri[i] = this._legalize(t + 2);\n      hullTri[e] = t; // keep track of boundary triangles on the hull\n\n      hullSize++; // walk forward through the hull, adding more triangles and flipping recursively\n\n      let n = hullNext[e];\n\n      while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n        t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n        hullTri[i] = this._legalize(t + 2);\n        hullNext[n] = n; // mark as removed\n\n        hullSize--;\n        n = q;\n      } // walk backward from the other side, adding more triangles and flipping\n\n\n      if (e === start) {\n        while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n          t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n\n          this._legalize(t + 2);\n\n          hullTri[q] = t;\n          hullNext[e] = e; // mark as removed\n\n          hullSize--;\n          e = q;\n        }\n      } // update the hull indices\n\n\n      this._hullStart = hullPrev[i] = e;\n      hullNext[e] = hullPrev[n] = i;\n      hullNext[i] = n; // save the two new edges in the hash table\n\n      hullHash[this._hashKey(x, y)] = i;\n      hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n    }\n\n    this.hull = new Uint32Array(hullSize);\n\n    for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n      this.hull[i] = e;\n      e = hullNext[e];\n    } // trim typed triangle mesh arrays\n\n\n    this.triangles = this._triangles.subarray(0, this.trianglesLen);\n    this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n  }\n\n  _hashKey(x, y) {\n    return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n  }\n\n  _legalize(a) {\n    const {\n      _triangles: triangles,\n      _halfedges: halfedges,\n      coords\n    } = this;\n    let i = 0;\n    let ar = 0; // recursion eliminated with a fixed-size stack\n\n    while (true) {\n      const b = halfedges[a];\n      /* if the pair of triangles doesn't satisfy the Delaunay condition\n       * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n       * then do the same check/flip recursively for the new pair of triangles\n       *\n       *           pl                    pl\n       *          /||\\                  /  \\\n       *       al/ || \\bl            al/    \\a\n       *        /  ||  \\              /      \\\n       *       /  a||b  \\    flip    /___ar___\\\n       *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n       *        \\  ||  /              \\      /\n       *       ar\\ || /br             b\\    /br\n       *          \\||/                  \\  /\n       *           pr                    pr\n       */\n\n      const a0 = a - a % 3;\n      ar = a0 + (a + 2) % 3;\n\n      if (b === -1) {\n        // convex hull edge\n        if (i === 0) break;\n        a = EDGE_STACK[--i];\n        continue;\n      }\n\n      const b0 = b - b % 3;\n      const al = a0 + (a + 1) % 3;\n      const bl = b0 + (b + 2) % 3;\n      const p0 = triangles[ar];\n      const pr = triangles[a];\n      const pl = triangles[al];\n      const p1 = triangles[bl];\n      const illegal = inCircle(coords[2 * p0], coords[2 * p0 + 1], coords[2 * pr], coords[2 * pr + 1], coords[2 * pl], coords[2 * pl + 1], coords[2 * p1], coords[2 * p1 + 1]);\n\n      if (illegal) {\n        triangles[a] = p1;\n        triangles[b] = p0;\n        const hbl = halfedges[bl]; // edge swapped on the other side of the hull (rare); fix the halfedge reference\n\n        if (hbl === -1) {\n          let e = this._hullStart;\n\n          do {\n            if (this._hullTri[e] === bl) {\n              this._hullTri[e] = a;\n              break;\n            }\n\n            e = this._hullPrev[e];\n          } while (e !== this._hullStart);\n        }\n\n        this._link(a, hbl);\n\n        this._link(b, halfedges[ar]);\n\n        this._link(ar, bl);\n\n        const br = b0 + (b + 1) % 3; // don't worry about hitting the cap: it can only happen on extremely degenerate input\n\n        if (i < EDGE_STACK.length) {\n          EDGE_STACK[i++] = br;\n        }\n      } else {\n        if (i === 0) break;\n        a = EDGE_STACK[--i];\n      }\n    }\n\n    return ar;\n  }\n\n  _link(a, b) {\n    this._halfedges[a] = b;\n    if (b !== -1) this._halfedges[b] = a;\n  } // add a new triangle given vertex indices and adjacent half-edge ids\n\n\n  _addTriangle(i0, i1, i2, a, b, c) {\n    const t = this.trianglesLen;\n    this._triangles[t] = i0;\n    this._triangles[t + 1] = i1;\n    this._triangles[t + 2] = i2;\n\n    this._link(t, a);\n\n    this._link(t + 1, b);\n\n    this._link(t + 2, c);\n\n    this.trianglesLen += 3;\n    return t;\n  }\n\n} // monotonically increases with real angle, but doesn't need expensive trigonometry\n\nfunction pseudoAngle(dx, dy) {\n  const p = dx / (Math.abs(dx) + Math.abs(dy));\n  return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n  const dx = ax - bx;\n  const dy = ay - by;\n  return dx * dx + dy * dy;\n} // return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\n\n\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n  const l = (ry - py) * (qx - px);\n  const r = (rx - px) * (qy - py);\n  return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n} // a more robust orientation test that's stable in a given triangle (to fix robustness issues)\n\n\nfunction orient(rx, ry, qx, qy, px, py) {\n  const sign = orientIfSure(px, py, rx, ry, qx, qy) || orientIfSure(rx, ry, qx, qy, px, py) || orientIfSure(qx, qy, px, py, rx, ry);\n  return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n  const dx = ax - px;\n  const dy = ay - py;\n  const ex = bx - px;\n  const ey = by - py;\n  const fx = cx - px;\n  const fy = cy - py;\n  const ap = dx * dx + dy * dy;\n  const bp = ex * ex + ey * ey;\n  const cp = fx * fx + fy * fy;\n  return dx * (ey * cp - bp * fy) - dy * (ex * cp - bp * fx) + ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n  const dx = bx - ax;\n  const dy = by - ay;\n  const ex = cx - ax;\n  const ey = cy - ay;\n  const bl = dx * dx + dy * dy;\n  const cl = ex * ex + ey * ey;\n  const d = 0.5 / (dx * ey - dy * ex);\n  const x = (ey * bl - dy * cl) * d;\n  const y = (dx * cl - ex * bl) * d;\n  return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n  const dx = bx - ax;\n  const dy = by - ay;\n  const ex = cx - ax;\n  const ey = cy - ay;\n  const bl = dx * dx + dy * dy;\n  const cl = ex * ex + ey * ey;\n  const d = 0.5 / (dx * ey - dy * ex);\n  const x = ax + (ey * bl - dy * cl) * d;\n  const y = ay + (dx * cl - ex * bl) * d;\n  return {\n    x,\n    y\n  };\n}\n\nfunction quicksort(ids, dists, left, right) {\n  if (right - left <= 20) {\n    for (let i = left + 1; i <= right; i++) {\n      const temp = ids[i];\n      const tempDist = dists[temp];\n      let j = i - 1;\n\n      while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n\n      ids[j + 1] = temp;\n    }\n  } else {\n    const median = left + right >> 1;\n    let i = left + 1;\n    let j = right;\n    swap(ids, median, i);\n    if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n    if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n    if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n    const temp = ids[i];\n    const tempDist = dists[temp];\n\n    while (true) {\n      do i++; while (dists[ids[i]] < tempDist);\n\n      do j--; while (dists[ids[j]] > tempDist);\n\n      if (j < i) break;\n      swap(ids, i, j);\n    }\n\n    ids[left + 1] = ids[j];\n    ids[j] = temp;\n\n    if (right - i + 1 >= j - left) {\n      quicksort(ids, dists, i, right);\n      quicksort(ids, dists, left, j - 1);\n    } else {\n      quicksort(ids, dists, left, j - 1);\n      quicksort(ids, dists, i, right);\n    }\n  }\n}\n\nfunction swap(arr, i, j) {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n  return p[0];\n}\n\nfunction defaultGetY(p) {\n  return p[1];\n}\n\nconst epsilon = 1e-6;\nclass Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n\n    this._ = \"\";\n  }\n\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n\n  value() {\n    return this._ || null;\n  }\n\n}\n\nclass Polygon {\n  constructor() {\n    this._ = [];\n  }\n\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n\n  value() {\n    return this._.length ? this._ : null;\n  }\n\n}\n\nclass Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n\n    this._init();\n  }\n\n  update() {\n    this.delaunay.update();\n\n    this._init();\n\n    return this;\n  }\n\n  _init() {\n    const {\n      delaunay: {\n        points,\n        hull,\n        triangles\n      },\n      vectors\n    } = this; // Compute circumcenters.\n\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const bl = dx * dx + dy * dy;\n      const cl = ex * ex + ey * ey;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (!ab) {\n        // degenerate case (collinear diagram)\n        x = (x1 + x3) / 2 - 1e8 * ey;\n        y = (y1 + y3) / 2 + 1e8 * ex;\n      } else if (Math.abs(ab) < 1e-8) {\n        // almost equal points (degenerate triangle)\n        x = (x1 + x3) / 2;\n        y = (y1 + y3) / 2;\n      } else {\n        const d = 1 / ab;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    } // Compute exterior cell rays.\n\n\n    let h = hull[hull.length - 1];\n    let p0,\n        p1 = h * 4;\n    let x0,\n        x1 = points[2 * h];\n    let y0,\n        y1 = points[2 * h + 1];\n    vectors.fill(0);\n\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n\n  render(context) {\n    const buffer = context == null ? context = new Path() : undefined;\n    const {\n      delaunay: {\n        halfedges,\n        inedges,\n        hull\n      },\n      circumcenters,\n      vectors\n    } = this;\n    if (hull.length <= 1) return null;\n\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n\n    let h0,\n        h1 = hull[hull.length - 1];\n\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n\n    return buffer && buffer.value();\n  }\n\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path() : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path() : undefined;\n\n    const points = this._clip(i);\n\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n\n    while (points[0] === points[n - 2] && points[1] === points[n - 1] && n > 1) n -= 2;\n\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i - 2] || points[i + 1] !== points[i - 1]) context.lineTo(points[i], points[i + 1]);\n    }\n\n    context.closePath();\n    return buffer && buffer.value();\n  }\n\n  *cellPolygons() {\n    const {\n      delaunay: {\n        points\n      }\n    } = this;\n\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n\n  cellPolygon(i) {\n    const polygon = new Polygon();\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n\n    const c0 = this._regioncode(x0, y0);\n\n    const c1 = this._regioncode(x1, y1);\n\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n\n  *neighbors(i) {\n    const ci = this._clip(i);\n\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j); // find the common edge\n\n\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj] && ci[ai + 1] == cj[aj + 1] && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj] && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n\n  _cell(i) {\n    const {\n      circumcenters,\n      delaunay: {\n        inedges,\n        halfedges,\n        triangles\n      }\n    } = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n\n    const points = [];\n    let e = e0;\n\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n\n    return points;\n  }\n\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n\n    const points = this._cell(i);\n\n    if (points === null) return null;\n    const {\n      vectors: V\n    } = this;\n    const v = i * 4;\n    return V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points);\n  }\n\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0,\n        y0,\n        x1 = points[n - 2],\n        y1 = points[n - 1];\n\n    let c0,\n        c1 = this._regioncode(x1, y1);\n\n    let e0, e1;\n\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n        }\n\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n      }\n    }\n\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n\n    return P;\n  }\n\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x,\n          y,\n          c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points),\n        p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n\n    return P;\n  }\n\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n\n      switch (e0) {\n        case 0b0101:\n          e0 = 0b0100;\n          continue;\n        // top-left\n\n        case 0b0100:\n          e0 = 0b0110, x = this.xmax, y = this.ymin;\n          break;\n        // top\n\n        case 0b0110:\n          e0 = 0b0010;\n          continue;\n        // top-right\n\n        case 0b0010:\n          e0 = 0b1010, x = this.xmax, y = this.ymax;\n          break;\n        // right\n\n        case 0b1010:\n          e0 = 0b1000;\n          continue;\n        // bottom-right\n\n        case 0b1000:\n          e0 = 0b1001, x = this.xmin, y = this.ymax;\n          break;\n        // bottom\n\n        case 0b1001:\n          e0 = 0b0001;\n          continue;\n        // bottom-left\n\n        case 0b0001:\n          e0 = 0b0101, x = this.xmin, y = this.ymin;\n          break;\n        // left\n      }\n\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i += 2) {\n        const j = (i + 2) % P.length,\n              k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k] || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1]) P.splice(j, 2), i -= 2;\n      }\n    }\n\n    return j;\n  }\n\n  _project(x0, y0, vx, vy) {\n    let t = Infinity,\n        c,\n        x,\n        y;\n\n    if (vy < 0) {\n      // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) {\n      // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n\n    if (vx > 0) {\n      // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) {\n      // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n\n    return [x, y];\n  }\n\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001 : x === this.xmax ? 0b0010 : 0b0000) | (y === this.ymin ? 0b0100 : y === this.ymax ? 0b1000 : 0b0000);\n  }\n\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001 : x > this.xmax ? 0b0010 : 0b0000) | (y < this.ymin ? 0b0100 : y > this.ymax ? 0b1000 : 0b0000);\n  }\n\n}\n\nconst tau = 2 * Math.PI,\n      pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n} // A triangulation is collinear if all its triangles have a non-null area\n\n\nfunction collinear(d) {\n  const {\n    triangles,\n    coords\n  } = d;\n\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1]) - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nclass Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points ? flatArray(points, fx, fy, that) : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n\n    this._init();\n  }\n\n  update() {\n    this._delaunator.update();\n\n    this._init();\n\n    return this;\n  }\n\n  _init() {\n    const d = this._delaunator,\n          points = this.points; // check for collinear\n\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({\n        length: points.length / 2\n      }, (_, i) => i).sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n\n      const e = this.collinear[0],\n            f = this.collinear[this.collinear.length - 1],\n            bounds = [points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1]],\n            r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n\n    const hullIndex = this._hullIndex.fill(-1); // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n\n\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    } // degenerate case: 1 or 2 (distinct) points\n\n\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n\n  *neighbors(i) {\n    const {\n      inedges,\n      hull,\n      _hullIndex,\n      halfedges,\n      triangles,\n      collinear\n    } = this; // degenerate case with several collinear points\n\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n\n    let e = e0,\n        p0 = -1;\n\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n\n      e = halfedges[e];\n\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n\n    return c;\n  }\n\n  _step(i, x, y) {\n    const {\n      inedges,\n      hull,\n      _hullIndex,\n      halfedges,\n      triangles,\n      points\n    } = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n\n      e = halfedges[e];\n\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n\n        break;\n      }\n    } while (e !== e0);\n\n    return c;\n  }\n\n  render(context) {\n    const buffer = context == null ? context = new Path() : undefined;\n    const {\n      points,\n      halfedges,\n      triangles\n    } = this;\n\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path() : undefined;\n    const {\n      points\n    } = this;\n\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i],\n            y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n\n    return buffer && buffer.value();\n  }\n\n  renderHull(context) {\n    const buffer = context == null ? context = new Path() : undefined;\n    const {\n      hull,\n      points\n    } = this;\n    const h = hull[0] * 2,\n          n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n\n    context.closePath();\n    return buffer && buffer.value();\n  }\n\n  hullPolygon() {\n    const polygon = new Polygon();\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path() : undefined;\n    const {\n      points,\n      triangles\n    } = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n\n  *trianglePolygons() {\n    const {\n      triangles\n    } = this;\n\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n\n  trianglePolygon(i) {\n    const polygon = new Polygon();\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n\nfunction ascending (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction bisector (f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n\n    while (lo < hi) {\n      const mid = lo + hi >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n    }\n\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n\n    while (lo < hi) {\n      const mid = lo + hi >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n    }\n\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {\n    left,\n    center,\n    right\n  };\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n\nfunction number (x) {\n  return x === null ? NaN : +x;\n}\n\nconst ascendingBisect = bisector(ascending);\nconst bisectRight = ascendingBisect.right;\nconst bisectCenter = bisector(number).center;\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nfunction ticks (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step),\n        r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step),\n        r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction sequence (start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      this.range(domain);\n      break;\n\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n\n  return this;\n}\n\nconst implicit = Symbol(\"implicit\");\nfunction ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\",\n        i = index.get(key);\n\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n\n    return scale;\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function (i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function (_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function () {\n    return bandwidth;\n  };\n\n  scale.step = function () {\n    return step;\n  };\n\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function (_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function (_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function () {\n    return band(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define (constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n\n  for (var key in definition) prototype[key] = definition[key];\n\n  return prototype;\n}\n\nfunction Color() {}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  copy: function (channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable: function () {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n  : l === 3 ? new Rgb(m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n  : l === 4 ? rgba(m >> 12 & 0xf | m >> 8 & 0xf0, m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, ((m & 0xf) << 4 | m & 0xf) / 0xff) // #f000\n  : null // invalid hex\n  ) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n  : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function (k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function (k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function () {\n    return this;\n  },\n  displayable: function () {\n    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity;\n  a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n\n  return new Hsl(h, s, l, o.opacity);\n}\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function (k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function (k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function () {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  displayable: function () {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  formatHsl: function () {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\") + (this.h || 0) + \", \" + (this.s || 0) * 100 + \"%, \" + (this.l || 0) * 100 + \"%\" + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\n\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\n\nvar constant = (x => () => x);\n\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n})(1);\n\nfunction numberArray (a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function (t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n\n    return c;\n  };\n}\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function (t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n\n    return c;\n  };\n}\n\nfunction date (a, b) {\n  var d = new Date();\n  return a = +a, b = +b, function (t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction interpolateNumber (a, b) {\n  return a = +a, b = +b, function (t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object (a, b) {\n  var i = {},\n      c = {},\n      k;\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function (t) {\n    for (k in i) c[k] = i[k](t);\n\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string (a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n      // scan index for next number in b\n  am,\n      // current match in a\n  bm,\n      // current match in b\n  bs,\n      // string preceding current number in b, if any\n  i = -1,\n      // index in s\n  s = [],\n      // string constants and placeholders\n  q = []; // number interpolators\n  // Coerce inputs to strings.\n\n  a = a + \"\", b = b + \"\"; // Interpolate pairs of numbers in a & b.\n\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: interpolateNumber(am, bm)\n      });\n    }\n\n    bi = reB.lastIndex;\n  } // Add remains of b.\n\n\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  } // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n\n\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n\n    return s.join(\"\");\n  });\n}\n\nfunction interpolate (a, b) {\n  var t = typeof b,\n      c;\n  return b == null || t === \"boolean\" ? constant(b) : (t === \"number\" ? interpolateNumber : t === \"string\" ? (c = color(b)) ? (b = c, rgb$1) : string : b instanceof color ? rgb$1 : b instanceof Date ? date : isNumberArray(b) ? numberArray : Array.isArray(b) ? genericArray : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound (a, b) {\n  return a = +a, b = +b, function (t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nfunction constants(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction number$1(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\nfunction identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= a = +a) ? function (x) {\n    return (x - a) / b;\n  } : constants(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function (x) {\n    return Math.max(a, Math.min(b, x));\n  };\n} // normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\n\n\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n      d1 = domain[1],\n      r0 = range[0],\n      r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function (x) {\n    return r0(d0(x));\n  };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1; // Reverse descending domains.\n\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function (x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());\n}\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate$1 = interpolate,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n\n  scale.invert = function (y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_, number$1), rescale()) : domain.slice();\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function (_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function (_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function (t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\nfunction continuous() {\n  return transformer()(identity, identity);\n}\n\nfunction formatDecimal (x) {\n  return Math.abs(x = Math.round(x)) >= 1e21 ? x.toLocaleString(\"en\").replace(/,/g, \"\") : x.toString(10);\n} // Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\n\nfunction formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n\n  var i,\n      coefficient = x.slice(0, i); // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n}\n\nfunction exponent (x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup (grouping, thousands) {\n  return function (value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals (numerals) {\n  return function (value) {\n    return value.replace(/[0-9]/g, function (i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function () {\n  return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width === undefined ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0)) + (this.trim ? \"~\" : \"\") + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim (s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\":\n        i0 = i1 = i;\n        break;\n\n      case \"0\":\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n\n      default:\n        if (!+s[i]) break out;\n        if (i0 > 0) i0 = 0;\n        break;\n    }\n  }\n\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\nfunction formatPrefixAuto (x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded (x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": x => Math.round(x).toString(2),\n  \"c\": x => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": x => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": x => Math.round(x).toString(16).toUpperCase(),\n  \"x\": x => Math.round(x).toString(16)\n};\n\nfunction identity$1 (x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\nfunction formatLocale (locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity$1 : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity$1 : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type; // The \"n\" type is an alias for \",g\".\n\n    if (type === \"n\") comma = true, type = \"g\"; // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\"; // If zero fill is specified, padding goes after sign and before digits.\n\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\"; // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\"; // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type); // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n\n    precision = precision === undefined ? 6 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i,\n          n,\n          c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value; // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n\n        var valueNegative = value < 0 || 1 / value < 0; // Perform the initial formatting.\n\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision); // Trim insignificant zeros.\n\n        if (trim) value = formatTrim(value); // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false; // Compute the prefix and suffix.\n\n        valuePrefix = (valueNegative ? sign === \"(\" ? sign : minus : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\"); // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      } // If the fill character is not \"0\", grouping is applied before padding.\n\n\n      if (comma && !zero) value = group(value, Infinity); // Compute the padding.\n\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\"; // If the fill character is \"0\", grouping is applied after padding.\n\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\"; // Reconstruct the final output based on the desired alignment.\n\n      switch (align) {\n        case \"<\":\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n\n        case \"=\":\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n\n        case \"^\":\n          value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          break;\n\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function () {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function (value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale;\nvar format;\nvar formatPrefix;\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nfunction precisionFixed (step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix (step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound (step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n\n  switch (specifier.type) {\n    case \"s\":\n      {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return formatPrefix(specifier, value);\n      }\n\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n\n    case \"f\":\n    case \"%\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n  }\n\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function (count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function (count) {\n    if (count == null) count = 10;\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\nfunction linear$1() {\n  var scale = continuous();\n\n  scale.copy = function () {\n    return copy(scale, linear$1());\n  };\n\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10 : base === Math.E ? Math.exp : function (x) {\n    return Math.pow(base, x);\n  };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function (x) {\n    return Math.log(x) / base;\n  });\n}\n\nfunction reflect(f) {\n  return function (x) {\n    return -f(-x);\n  };\n}\n\nfunction loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n\n    return scale;\n  }\n\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function (count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n    if (r = v < u) i = u, u = v, v = i;\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n\n    return function (d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function () {\n    return domain(nice(domain(), {\n      floor: function (x) {\n        return pows(Math.floor(logs(x)));\n      },\n      ceil: function (x) {\n        return pows(Math.ceil(logs(x)));\n      }\n    }));\n  };\n\n  return scale;\n}\nfunction log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nvar t0 = new Date(),\n    t1 = new Date();\nfunction newInterval(floori, offseti, count, field) {\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date() : new Date(+date)), date;\n  }\n\n  interval.floor = function (date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function (date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function (date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function (date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function (start, stop, step) {\n    var range = [],\n        previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start); while (previous < start && start < stop);\n\n    return range;\n  };\n\n  interval.filter = function (test) {\n    return newInterval(function (date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function (date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function (start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function (step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval : interval.filter(field ? function (d) {\n        return field(d) % step === 0;\n      } : function (d) {\n        return interval.count(0, d) % step === 0;\n      });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function () {// noop\n}, function (date, step) {\n  date.setTime(+date + step);\n}, function (start, end) {\n  return end - start;\n}); // An optimized implementation for this simple case.\n\nmillisecond.every = function (k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function (date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function (date, step) {\n    date.setTime(+date + step * k);\n  }, function (start, end) {\n    return (end - start) / k;\n  });\n};\nvar milliseconds = millisecond.range;\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\nvar second = newInterval(function (date) {\n  date.setTime(date - date.getMilliseconds());\n}, function (date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function (start, end) {\n  return (end - start) / durationSecond;\n}, function (date) {\n  return date.getUTCSeconds();\n});\nvar seconds = second.range;\n\nvar minute = newInterval(function (date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getMinutes();\n});\nvar minutes = minute.range;\n\nvar hour = newInterval(function (date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getHours();\n});\nvar hours = hour.range;\n\nvar day = newInterval(date => date.setHours(0, 0, 0, 0), (date, step) => date.setDate(date.getDate() + step), (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay, date => date.getDate() - 1);\nvar days = day.range;\n\nfunction weekday(i) {\n  return newInterval(function (date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar sundays = sunday.range;\nvar mondays = monday.range;\nvar tuesdays = tuesday.range;\nvar wednesdays = wednesday.range;\nvar thursdays = thursday.range;\nvar fridays = friday.range;\nvar saturdays = saturday.range;\n\nvar month = newInterval(function (date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function (start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function (date) {\n  return date.getMonth();\n});\nvar months = month.range;\n\nvar year = newInterval(function (date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function (start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function (date) {\n  return date.getFullYear();\n}); // An optimized implementation for this simple case.\n\nyear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\nvar years = year.range;\n\nvar utcMinute = newInterval(function (date) {\n  date.setUTCSeconds(0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getUTCMinutes();\n});\nvar utcMinutes = utcMinute.range;\n\nvar utcHour = newInterval(function (date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getUTCHours();\n});\nvar utcHours = utcHour.range;\n\nvar utcDay = newInterval(function (date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function (start, end) {\n  return (end - start) / durationDay;\n}, function (date) {\n  return date.getUTCDate() - 1;\n});\nvar utcDays = utcDay.range;\n\nfunction utcWeekday(i) {\n  return newInterval(function (date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function (start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\nvar utcSundays = utcSunday.range;\nvar utcMondays = utcMonday.range;\nvar utcTuesdays = utcTuesday.range;\nvar utcWednesdays = utcWednesday.range;\nvar utcThursdays = utcThursday.range;\nvar utcFridays = utcFriday.range;\nvar utcSaturdays = utcSaturday.range;\n\nvar utcMonth = newInterval(function (date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function (start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function (date) {\n  return date.getUTCMonth();\n});\nvar utcMonths = utcMonth.range;\n\nvar utcYear = newInterval(function (date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function (start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function (date) {\n  return date.getUTCFullYear();\n}); // An optimized implementation for this simple case.\n\nutcYear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\nvar utcYears = utcYear.range;\n\nfunction ticker(year, month, week, day, hour, minute) {\n  const tickIntervals = [[second, 1, durationSecond], [second, 5, 5 * durationSecond], [second, 15, 15 * durationSecond], [second, 30, 30 * durationSecond], [minute, 1, durationMinute], [minute, 5, 5 * durationMinute], [minute, 15, 15 * durationMinute], [minute, 30, 30 * durationMinute], [hour, 1, durationHour], [hour, 3, 3 * durationHour], [hour, 6, 6 * durationHour], [hour, 12, 12 * durationHour], [day, 1, durationDay], [day, 2, 2 * durationDay], [week, 1, durationWeek], [month, 1, durationMonth], [month, 3, 3 * durationMonth], [year, 1, durationYear]];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, sunday, day, hour, minute);\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {\n    y: y,\n    m: m,\n    d: d,\n    H: 0,\n    M: 0,\n    S: 0,\n    L: 0\n  };\n}\n\nfunction formatLocale$1(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  }; // These recursive directive definitions must be deferred.\n\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function (date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function (string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week,\n          day$1;\n      if (i != string.length) return null; // If a UNIX timestamp is specified, return it.\n\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0)); // If this is utcParse, never use the local timezone.\n\n      if (Z && !(\"Z\" in d)) d.Z = 0; // The am-pm flag is 0 for AM, and 1 for PM.\n\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12; // If the month was not specified, inherit from the quarter.\n\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0; // Convert day-of-week and week-of-year to day-of-year.\n\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day$1 = week.getUTCDay();\n          week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day$1 = week.getDay();\n          week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n          week = day.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day$1 = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n      } // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n\n\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      } // Otherwise, all fields are in local time.\n\n\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function (specifier) {\n      var f = newFormat(specifier += \"\", formats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    parse: function (specifier) {\n      var p = newParse(specifier += \"\", false);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    },\n    utcFormat: function (specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    utcParse: function (specifier) {\n      var p = newParse(specifier += \"\", true);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    }\n  };\n}\nvar pads = {\n  \"-\": \"\",\n  \"_\": \" \",\n  \"0\": \"0\"\n},\n    numberRe = /^\\s*\\d+/,\n    // note: ignores next directive\npercentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day.count(year(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday.count(year(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return day >= 4 || day === 0 ? thursday(d) : thursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = day >= 4 || day === 0 ? thursday(d) : thursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\")) + pad(z / 60 | 0, \"0\", 2) + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale$1;\nvar timeFormat;\nvar timeParse;\nvar utcFormat;\nvar utcParse;\ndefaultLocale$1({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  timeFormat = locale$1.format;\n  timeParse = locale$1.parse;\n  utcFormat = locale$1.utcFormat;\n  utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nfunction date$1(t) {\n  return new Date(t);\n}\n\nfunction number$2(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond : minute(date) < date ? formatSecond : hour(date) < date ? formatMinute : day(date) < date ? formatHour : month(date) < date ? week(date) < date ? formatDay : formatWeek : year(date) < date ? formatMonth : formatYear)(date);\n  }\n\n  scale.invert = function (y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? domain(Array.from(_, number$2)) : domain().map(date$1);\n  };\n\n  scale.ticks = function (interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function (interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function () {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\nfunction time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, year, month, sunday, day, hour, minute, second, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nfunction utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n\nconst pi = Math.PI,\n      tau$1 = 2 * pi,\n      epsilon$1 = 1e-6,\n      tauEpsilon = tau$1 - epsilon$1;\n\nfunction Path$1() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path$1();\n}\n\nPath$1.prototype = path.prototype = {\n  constructor: Path$1,\n  moveTo: function (x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function () {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function (x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function (x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function (x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function (x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x1,y1).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$1)) ; // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n      // Equivalently, is (x1,y1) coincident with (x2,y2)?\n      // Or, is the radius zero? Line to (x1,y1).\n      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n          this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n        } // Otherwise, draw an arc!\n        else {\n            var x20 = x2 - x0,\n                y20 = y2 - y0,\n                l21_2 = x21 * x21 + y21 * y21,\n                l20_2 = x20 * x20 + y20 * y20,\n                l21 = Math.sqrt(l21_2),\n                l01 = Math.sqrt(l01_2),\n                l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n                t01 = l / l01,\n                t21 = l / l21; // If the start tangent is not coincident with (x0,y0), line to.\n\n            if (Math.abs(t01 - 1) > epsilon$1) {\n              this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n            }\n\n            this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n          }\n  },\n  arc: function (x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x0,y0).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    } // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n        this._ += \"L\" + x0 + \",\" + y0;\n      } // Is this arc empty? We’re done.\n\n\n    if (!r) return; // Does the angle go the wrong way? Flip the direction.\n\n    if (da < 0) da = da % tau$1 + tau$1; // Is this a complete circle? Draw two arcs to complete the circle.\n\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    } // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$1) {\n        this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n      }\n  },\n  rect: function (x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function () {\n    return this._;\n  }\n};\n\nfunction constant$1 (x) {\n  return function constant() {\n    return x;\n  };\n}\n\nvar abs = Math.abs;\nvar atan2 = Math.atan2;\nvar cos = Math.cos;\nvar max = Math.max;\nvar min = Math.min;\nvar sin = Math.sin;\nvar sqrt = Math.sqrt;\nvar epsilon$2 = 1e-12;\nvar pi$1 = Math.PI;\nvar halfPi = pi$1 / 2;\nvar tau$2 = 2 * pi$1;\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi$1 : Math.acos(x);\n}\nfunction asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0,\n      y10 = y1 - y0,\n      x32 = x3 - x2,\n      y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon$2) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n} // Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\n\n\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00; // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nfunction arc () {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant$1(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n    if (!context) context = buffer = path(); // Ensure that the outer radius is always larger than the inner radius.\n\n    if (r1 < r0) r = r1, r1 = r0, r0 = r; // Is it a point?\n\n    if (!(r1 > epsilon$2)) context.moveTo(0, 0); // Or is it a circle or annulus?\n    else if (da > tau$2 - epsilon$2) {\n        context.moveTo(r1 * cos(a0), r1 * sin(a0));\n        context.arc(0, 0, r1, a0, a1, !cw);\n\n        if (r0 > epsilon$2) {\n          context.moveTo(r0 * cos(a1), r0 * sin(a1));\n          context.arc(0, 0, r0, a1, a0, cw);\n        }\n      } // Or is it a circular or annular sector?\n      else {\n          var a01 = a0,\n              a11 = a1,\n              a00 = a0,\n              a10 = a1,\n              da0 = da,\n              da1 = da,\n              ap = padAngle.apply(this, arguments) / 2,\n              rp = ap > epsilon$2 && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n              rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n              rc0 = rc,\n              rc1 = rc,\n              t0,\n              t1; // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n\n          if (rp > epsilon$2) {\n            var p0 = asin(rp / r0 * sin(ap)),\n                p1 = asin(rp / r1 * sin(ap));\n            if ((da0 -= p0 * 2) > epsilon$2) p0 *= cw ? 1 : -1, a00 += p0, a10 -= p0;else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n            if ((da1 -= p1 * 2) > epsilon$2) p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n          }\n\n          var x01 = r1 * cos(a01),\n              y01 = r1 * sin(a01),\n              x10 = r0 * cos(a10),\n              y10 = r0 * sin(a10); // Apply rounded corners?\n\n          if (rc > epsilon$2) {\n            var x11 = r1 * cos(a11),\n                y11 = r1 * sin(a11),\n                x00 = r0 * cos(a00),\n                y00 = r0 * sin(a00),\n                oc; // Restrict the corner radius according to the sector angle.\n\n            if (da < pi$1 && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n              var ax = x01 - oc[0],\n                  ay = y01 - oc[1],\n                  bx = x11 - oc[0],\n                  by = y11 - oc[1],\n                  kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                  lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n              rc0 = min(rc, (r0 - lc) / (kc - 1));\n              rc1 = min(rc, (r1 - lc) / (kc + 1));\n            }\n          } // Is the sector collapsed to a line?\n\n\n          if (!(da1 > epsilon$2)) context.moveTo(x01, y01); // Does the sector’s outer ring have rounded corners?\n          else if (rc1 > epsilon$2) {\n              t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n              t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n              context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01); // Have the corners merged?\n\n              if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw); // Otherwise, draw the two corners and the ring.\n              else {\n                  context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n                  context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n                  context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n                }\n            } // Or is the outer ring just a circular arc?\n            else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw); // Is there no inner ring, and it’s a circular sector?\n          // Or perhaps it’s an annular sector collapsed due to padding?\n\n          if (!(r0 > epsilon$2) || !(da0 > epsilon$2)) context.lineTo(x10, y10); // Does the sector’s inner ring (or point) have rounded corners?\n          else if (rc0 > epsilon$2) {\n              t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n              t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n              context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01); // Have the corners merged?\n\n              if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw); // Otherwise, draw the two corners and the ring.\n              else {\n                  context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n                  context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n                  context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n                }\n            } // Or is the inner ring just a circular arc?\n            else context.arc(0, 0, r0, a10, a00, cw);\n        }\n    context.closePath();\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function () {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi$1 / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function (_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant$1(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function (_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant$1(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function (_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant$1(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function (_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$1(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$1(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$1(+_), arc) : padAngle;\n  };\n\n  arc.context = function (_) {\n    return arguments.length ? (context = _ == null ? null : _, arc) : context;\n  };\n\n  return arc;\n}\n\nfunction array (x) {\n  return typeof x === \"object\" && \"length\" in x ? x // Array, TypedArray, NodeList, array-like\n  : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._point = 0;\n  },\n  lineEnd: function () {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        this._context.lineTo(x, y);\n\n        break;\n    }\n  }\n};\nfunction curveLinear (context) {\n  return new Linear(context);\n}\n\nfunction x(p) {\n  return p[0];\n}\nfunction y(p) {\n  return p[1];\n}\n\nfunction line (x$1, y$1) {\n  var defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n  x$1 = typeof x$1 === \"function\" ? x$1 : x$1 === undefined ? x : constant$1(x$1);\n  y$1 = typeof y$1 === \"function\" ? y$1 : y$1 === undefined ? y : constant$1(y$1);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n\n      if (defined0) output.point(+x$1(d, i, data), +y$1(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function (_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant$1(+_), line) : x$1;\n  };\n\n  line.y = function (_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant$1(+_), line) : y$1;\n  };\n\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), line) : defined;\n  };\n\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction area (x0, y0, y1) {\n  var x1 = null,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n  x0 = typeof x0 === \"function\" ? x0 : x0 === undefined ? x : constant$1(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : y0 === undefined ? constant$1(0) : constant$1(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : y1 === undefined ? y : constant$1(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : x0;\n  };\n\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : x1;\n  };\n\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : y0;\n  };\n\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : y1;\n  };\n\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), area) : defined;\n  };\n\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\nfunction descending (a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n\nfunction identity$2 (d) {\n  return d;\n}\n\nfunction pie () {\n  var value = identity$2,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant$1(0),\n      endAngle = constant$1(tau$2),\n      padAngle = constant$1(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau$2, Math.max(-tau$2, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    } // Optionally sort the arcs by previously-computed values or by data.\n\n\n    if (sortValues != null) index.sort(function (i, j) {\n      return sortValues(arcs[i], arcs[j]);\n    });else if (sort != null) index.sort(function (i, j) {\n      return sort(data[i], data[j]);\n    }); // Compute the arcs! They are stored in the original data's order.\n\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function (_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$1(+_), pie) : value;\n  };\n\n  pie.sortValues = function (_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function (_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$1(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$1(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$1(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n\nexport { Delaunay, arc, area, line, pie, band as scaleBand, linear$1 as scaleLinear, log as scaleLog, time as scaleTime, utcTime as scaleUtc, day as timeDay, days as timeDays, friday as timeFriday, fridays as timeFridays, hour as timeHour, hours as timeHours, newInterval as timeInterval, millisecond as timeMillisecond, milliseconds as timeMilliseconds, minute as timeMinute, minutes as timeMinutes, monday as timeMonday, mondays as timeMondays, month as timeMonth, months as timeMonths, saturday as timeSaturday, saturdays as timeSaturdays, second as timeSecond, seconds as timeSeconds, sunday as timeSunday, sundays as timeSundays, thursday as timeThursday, thursdays as timeThursdays, timeTickInterval, timeTicks, tuesday as timeTuesday, tuesdays as timeTuesdays, wednesday as timeWednesday, wednesdays as timeWednesdays, sunday as timeWeek, sundays as timeWeeks, year as timeYear, years as timeYears, utcDay, utcDays, utcFriday, utcFridays, utcHour, utcHours, millisecond as utcMillisecond, milliseconds as utcMilliseconds, utcMinute, utcMinutes, utcMonday, utcMondays, utcMonth, utcMonths, utcSaturday, utcSaturdays, second as utcSecond, seconds as utcSeconds, utcSunday, utcSundays, utcThursday, utcThursdays, utcTickInterval, utcTicks, utcTuesday, utcTuesdays, utcWednesday, utcWednesdays, utcSunday as utcWeek, utcSundays as utcWeeks, utcYear, utcYears };\n","import React from 'react';\n//\n\nconst defaultStyle = {\n  strokeWidth: 2,\n  stroke: '#6b6b6b',\n  fill: 'transparent',\n  opacity: 1,\n};\n\nconst Path = React.forwardRef<SVGPathElement, React.ComponentProps<'path'>>(\n  ({ style, ...rest }, ref) => {\n    const resolvedStyle = {\n      ...defaultStyle,\n      ...style,\n    };\n\n    return <path ref={ref} {...rest} style={resolvedStyle} />;\n  }\n);\n\nexport default Path;\n","export const positionTop = \"top\";\nexport const positionRight = \"right\";\nexport const positionBottom = \"bottom\";\nexport const positionLeft = \"left\";\n\nexport const groupingSingle = \"single\";\nexport const groupingSeries = \"series\";\nexport const groupingPrimary = \"primary\";\nexport const groupingSecondary = \"secondary\";\n\nexport const alignAuto = \"auto\";\nexport const alignRight = \"right\";\nexport const alignTopRight = \"topRight\";\nexport const alignBottomRight = \"bottomRight\";\nexport const alignLeft = \"left\";\nexport const alignTopLeft = \"topLeft\";\nexport const alignBottomLeft = \"bottomLeft\";\nexport const alignTop = \"top\";\nexport const alignBottom = \"bottom\";\n\nexport const axisTypeOrdinal = \"ordinal\";\nexport const axisTypeTime = \"time\";\nexport const axisTypeUtc = \"utc\";\nexport const axisTypeLinear = \"linear\";\nexport const axisTypeLog = \"log\";\n\nexport const anchorPointer = \"pointer\";\nexport const anchorClosest = \"closest\";\nexport const anchorCenter = \"center\";\nexport const anchorTop = \"top\";\nexport const anchorBottom = \"bottom\";\nexport const anchorLeft = \"left\";\nexport const anchorRight = \"right\";\nexport const anchorGridTop = \"gridTop\";\nexport const anchorGridBottom = \"gridBottom\";\nexport const anchorGridLeft = \"gridLeft\";\nexport const anchorGridRight = \"gridRight\";\n\nexport const focusAuto = \"auto\";\nexport const focusClosest = \"closest\";\nexport const focusElement = \"element\";\n","import React, { isValidElement } from 'react';\nimport { Delaunay, line } from '../../d3';\nimport useChartContext from '../hooks/useChartContext';\nimport useChartState from '../hooks/useChartState';\n//\nimport Path from '../primitives/Path';\nimport Rectangle from '../primitives/Rectangle';\nimport { groupingPrimary } from '../utils/Constants';\n\nconst lineFn = line();\n\nconst VoronoiElement = ({ children, ...rest }) => (\n  <g className=\"Voronoi\" {...rest}>\n    {children}\n  </g>\n);\n\nexport default function Voronoi() {\n  const {\n    stackData,\n    primaryAxes,\n    secondaryAxes,\n    showVoronoi,\n    width,\n    height,\n    gridWidth,\n    gridHeight,\n    onFocus,\n    onClick,\n    tooltip,\n    primaryCursor,\n    secondaryCursor,\n    grouping,\n  } = useChartContext();\n\n  const [, setChartState] = useChartState(() => null);\n\n  const handleFocus = React.useCallback(\n    datum => {\n      return setChartState(state => ({\n        ...state,\n        focused: datum,\n      }));\n    },\n    [setChartState]\n  );\n\n  const needsVoronoi =\n    onFocus || onClick || tooltip || primaryCursor || secondaryCursor;\n\n  return React.useMemo(() => {\n    // Don't render until we have all dependencies\n    if (\n      !stackData ||\n      !primaryAxes.length ||\n      !secondaryAxes.length ||\n      !width ||\n      !height ||\n      !needsVoronoi\n    ) {\n      return null;\n    }\n\n    const extent = [\n      [0, 0],\n      [gridWidth, gridHeight],\n    ];\n\n    const props = {\n      stackData,\n      extent,\n      handleFocus,\n      showVoronoi,\n      primaryAxes,\n    };\n\n    if (grouping === groupingPrimary) {\n      return <PrimaryVoronoi {...props} />;\n    }\n\n    return <ClosestVoronoi {...props} />;\n  }, [\n    gridHeight,\n    gridWidth,\n    height,\n    needsVoronoi,\n    handleFocus,\n    primaryAxes.length,\n    secondaryAxes.length,\n    showVoronoi,\n    stackData,\n    width,\n  ]);\n}\n\nfunction PrimaryVoronoi({\n  stackData,\n  extent,\n  handleFocus,\n  showVoronoi,\n  primaryAxes,\n}) {\n  const primaryAxis = primaryAxes[0];\n  const isVertical = primaryAxis.vertical;\n\n  const datumBoundaries: { start: number; end: number; datum: any }[] = [];\n\n  stackData.forEach(series => {\n    series.datums\n      .filter(d => d.defined)\n      .forEach(datum => {\n        let start;\n        let end;\n\n        datum.boundingPoints.forEach(boundingPoint => {\n          if (\n            typeof datum.primaryCoord !== 'number' ||\n            typeof datum.secondaryCoord !== 'number' ||\n            Number.isNaN(datum.secondaryCoord) ||\n            Number.isNaN(datum.primaryCoord)\n          ) {\n            return;\n          }\n          start = Math.min(start ?? datum.secondaryCoord, datum.secondaryCoord);\n          end = Math.max(end ?? datum.secondaryCoord, datum.secondaryCoord);\n        });\n\n        datumBoundaries.push({\n          start,\n          end,\n          datum,\n        });\n      });\n  });\n\n  const groupedBoundaries = new Map();\n\n  datumBoundaries.forEach(datumBoundary => {\n    if (!groupedBoundaries.has(datumBoundary.datum.primaryCoord)) {\n      groupedBoundaries.set(datumBoundary.datum.primaryCoord, []);\n    }\n\n    const previous = groupedBoundaries.get(datumBoundary.datum.primaryCoord);\n\n    groupedBoundaries.set(datumBoundary.datum.primaryCoord, [\n      ...previous,\n      datumBoundary,\n    ]);\n  });\n\n  const sortedPrimaryKeys = Array.from(groupedBoundaries.keys()).sort(\n    (a, b) => a - b\n  );\n\n  const columns = sortedPrimaryKeys.map((primaryKey, i) => {\n    const prev = sortedPrimaryKeys[i - 1];\n    const next = sortedPrimaryKeys[i + 1];\n\n    let primaryStart = 0;\n    let primaryEnd = extent[1][isVertical ? 1 : 0];\n\n    if (prev) {\n      primaryStart = primaryKey - (primaryKey - prev) / 2;\n    }\n\n    if (next) {\n      primaryEnd = primaryKey + (next - primaryKey) / 2;\n    }\n\n    const datumBoundaries = groupedBoundaries.get(primaryKey);\n\n    return {\n      primaryStart,\n      primaryEnd,\n      primaryKey,\n      datumBoundaries: datumBoundaries.map((datumBoundary, i) => {\n        const datum = datumBoundary.datum;\n        const prev = datumBoundaries[i - 1];\n        const next = datumBoundaries[i + 1];\n\n        let secondaryStart = 0;\n        let secondaryEnd = extent[1][isVertical ? 0 : 1];\n\n        if (prev) {\n          secondaryStart =\n            datumBoundary.start - (datumBoundary.start - prev.end) / 2;\n        }\n\n        if (next) {\n          secondaryEnd =\n            datumBoundary.end + (next.start - datumBoundary.end) / 2;\n        }\n\n        return {\n          secondaryStart,\n          secondaryEnd,\n          datum,\n        };\n      }),\n    };\n  });\n\n  return (\n    <VoronoiElement>\n      {columns.map(column => {\n        return (\n          <React.Fragment key={column.primaryKey}>\n            {column.datumBoundaries.map(datumBoundary => {\n              const x1 = !isVertical\n                ? column.primaryStart\n                : datumBoundary.secondaryStart;\n              const x2 = !isVertical\n                ? column.primaryEnd\n                : datumBoundary.secondaryEnd;\n              const y1 = !isVertical\n                ? datumBoundary.secondaryStart\n                : column.primaryStart;\n              const y2 = !isVertical\n                ? datumBoundary.secondaryEnd\n                : column.primaryEnd;\n\n              return (\n                <Rectangle\n                  {...{\n                    key: `${column.primaryKey}_${datumBoundary.datum.seriesIndex}`,\n                    x1,\n                    x2,\n                    y1,\n                    y2,\n                    className: 'action-voronoi',\n                    onMouseEnter: e => handleFocus(datumBoundary.datum),\n                    onMouseLeave: e => handleFocus(null),\n                    style: {\n                      fill: 'rgba(0,0,0,.2)',\n                      stroke: 'rgba(255,255,255,.5)',\n                      strokeWidth: 1,\n                      opacity: showVoronoi ? 1 : 0,\n                    },\n                  }}\n                />\n              );\n            })}\n          </React.Fragment>\n        );\n      })}\n    </VoronoiElement>\n  );\n}\n\nfunction ClosestVoronoi({ stackData, extent, handleFocus, showVoronoi }) {\n  let polygons = null;\n\n  const voronoiData = [];\n  stackData.forEach(series => {\n    series.datums\n      .filter(d => d.defined)\n      .forEach(datum => {\n        datum.boundingPoints.forEach(boundingPoint => {\n          if (\n            typeof datum.x !== 'number' ||\n            typeof datum.y !== 'number' ||\n            Number.isNaN(datum.y) ||\n            Number.isNaN(datum.x)\n          ) {\n            return;\n          }\n          voronoiData.push({\n            x: boundingPoint.x,\n            y: boundingPoint.y,\n            datum,\n          });\n        });\n      });\n  });\n\n  const delaunay = Delaunay.from(\n    voronoiData,\n    d => Math.max(d.x, 0),\n    d => Math.max(d.y, 0)\n  );\n\n  const flatExtent = extent.flat().map(d => Math.max(d, 0));\n\n  const voronoi = delaunay.voronoi(flatExtent);\n\n  polygons = voronoi.cellPolygons();\n\n  polygons = Array.from(polygons);\n\n  return (\n    <VoronoiElement>\n      {polygons.map((points, i) => {\n        const index = points.index;\n        const datum = voronoiData[index].datum;\n        const path = lineFn(points);\n        return (\n          <Path\n            key={i}\n            d={path}\n            className=\"action-voronoi\"\n            onMouseEnter={e => handleFocus(datum)}\n            onMouseLeave={e => handleFocus(null)}\n            style={{\n              fill: 'rgba(0,0,0,.2)',\n              stroke: 'rgba(255,255,255,.5)',\n              opacity: showVoronoi ? 1 : 0,\n            }}\n          />\n        );\n      })}\n    </VoronoiElement>\n  );\n}\n","import React from 'react';\n//\n\nconst defaultStyle = {\n  strokeWidth: 1,\n  fill: 'transparent',\n  opacity: 1,\n};\n\nconst Line = React.forwardRef<SVGLineElement, React.ComponentProps<'line'>>(\n  ({ style, ...rest }, ref) => {\n    const resolvedStyle = {\n      ...defaultStyle,\n      ...style,\n    };\n\n    return <line ref={ref} {...rest} style={resolvedStyle} />;\n  }\n);\n\nexport default Line;\n","import React from 'react';\n//\n\nconst defaultStyle = {\n  fontFamily: 'Helvetica',\n  fontSize: 10,\n  opacity: 1,\n};\n\nconst Text = React.forwardRef<SVGTextElement, React.ComponentProps<'text'>>(\n  ({ style, ...rest }, ref) => {\n    const resolvedStyle = {\n      ...defaultStyle,\n      ...style,\n    };\n\n    return <text ref={ref} {...rest} style={resolvedStyle} />;\n  }\n);\n\nexport default Text;\n","import React from 'react';\n\nconst Group = React.forwardRef<SVGGElement, React.ComponentProps<'g'>>(\n  (props, ref) => {\n    return <g ref={ref} {...props} />;\n  }\n);\n\nexport default Group;\n","import React from 'react';\nimport useChartState from '../hooks/useChartState';\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect';\n\nconst getElBox = el => {\n  var rect = el.getBoundingClientRect();\n  return {\n    top: Math.round(rect.top),\n    right: Math.round(rect.right),\n    bottom: Math.round(rect.bottom),\n    left: Math.round(rect.left),\n    width: Math.round(rect.width),\n    height: Math.round(rect.height),\n    x: Math.round(rect.x),\n    y: Math.round(rect.y),\n  };\n};\n\nfunction useIsLooping() {\n  const callThreshold = 30;\n  const timeLimit = 500;\n  const now = Date.now();\n\n  const ref = React.useRef([now]);\n\n  ref.current.push(now);\n\n  ref.current = ref.current.filter(d => d > now - timeLimit);\n\n  while (ref.current.length > callThreshold) {\n    ref.current.shift();\n  }\n\n  const isLooping =\n    ref.current.length === callThreshold && now - ref.current[0] < timeLimit;\n\n  return isLooping;\n}\n\nexport default function useMeasure({\n  elRef,\n  rotation,\n  showRotated,\n  setShowRotated,\n  id,\n  position,\n  tickSizeInner,\n  tickSizeOuter,\n  labelRotation,\n  tickPadding,\n  vertical,\n  gridWidth,\n  gridHeight,\n  show,\n}) {\n  const [axisDimension, setChartState] = useChartState(\n    state => state.axisDimensions?.[position]?.[id]\n  );\n\n  const isLooping = useIsLooping();\n\n  const measureDimensions = React.useCallback(() => {\n    if (!elRef.current) {\n      return;\n    }\n\n    // if (show) {\n    //   // Remeasure when show changes\n    // }\n\n    let gridSize = !vertical ? gridWidth : gridHeight;\n\n    const unrotatedLabelDims = Array(\n      ...elRef.current.querySelectorAll('.Axis.unrotated .tickLabel')\n    ).map(el => getElBox(el));\n\n    // Determine the largest labels on the axis\n    const widestLabel = unrotatedLabelDims.reduce((label, d) => {\n      label = label || d;\n      if (d.width > 0 && d.width > label.width) {\n        label = d;\n      }\n      return label;\n    }, null);\n\n    let smallestTickGap = gridSize;\n\n    if (unrotatedLabelDims.length > 1) {\n      unrotatedLabelDims.reduce((prev, current) => {\n        if (prev) {\n          smallestTickGap = Math.min(\n            smallestTickGap,\n            vertical ? current.top - prev.top : current.left - prev.left\n          );\n        }\n\n        return current;\n      }, false);\n    }\n\n    const shouldRotate =\n      (widestLabel?.width || 0) + tickPadding > smallestTickGap;\n\n    if (!isLooping) {\n      // Rotate ticks for non-time horizontal axes\n      if (!vertical) {\n        setShowRotated(shouldRotate);\n      }\n    }\n  }, [\n    axisDimension,\n    elRef,\n    gridHeight,\n    gridWidth,\n    id,\n    labelRotation,\n    position,\n    rotation,\n    setChartState,\n    show,\n    tickPadding,\n    tickSizeInner,\n    tickSizeOuter,\n    vertical,\n  ]);\n\n  // Measure after if needed\n  useIsomorphicLayoutEffect(() => {\n    measureDimensions();\n  });\n\n  useIsomorphicLayoutEffect(() => {\n    if (!elRef.current) {\n      if (axisDimension) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setChartState(state => {\n          const newAxes = state.axisDimensions[position] || {};\n          delete newAxes[id];\n          return {\n            ...state,\n            axisDimensions: {\n              ...state.axisDimensions,\n              [position]: newAxes,\n            },\n          };\n        });\n      }\n      return;\n    }\n\n    const newDimensions = {\n      width: 0,\n      height: 0,\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n    };\n\n    const domainDims = getElBox(\n      elRef.current.querySelector(\n        `.Axis.${showRotated ? 'rotated' : 'unrotated'} .domain`\n      )\n    );\n\n    const measureDims = showRotated\n      ? Array(\n          ...elRef.current.querySelectorAll('.Axis.rotated .tickLabel')\n        ).map(el => getElBox(el))\n      : Array(\n          ...elRef.current.querySelectorAll('.Axis.unrotated .tickLabel')\n        ).map(el => getElBox(el));\n\n    // Determine the largest labels on the axis\n    const [widestRealLabel, tallestRealLabel] = measureDims.reduce(\n      (labels, d) => {\n        let [largestW = d, largestH = d] = labels;\n        if (d.width > 0 && d.width > largestW.width) {\n          largestW = d;\n        }\n        if (d.height > 0 && d.height > largestH.height) {\n          largestH = d;\n        }\n        return [largestW, largestH];\n      },\n      []\n    );\n\n    // Axis overflow measurements\n    if (!vertical) {\n      if (measureDims.length) {\n        const leftMostLabelDim = measureDims.reduce((d, labelDim) =>\n          labelDim.left < d.left ? labelDim : d\n        );\n        const rightMostLabelDim = measureDims.reduce((d, labelDim) =>\n          labelDim.right > d.right ? labelDim : d\n        );\n\n        newDimensions.left = Math.round(\n          Math.max(0, domainDims.left - leftMostLabelDim?.left)\n        );\n\n        newDimensions.right = Math.round(\n          Math.max(0, rightMostLabelDim?.right - domainDims.right)\n        );\n      }\n\n      newDimensions.height = Math.round(\n        Math.max(tickSizeInner, tickSizeOuter) +\n          tickPadding +\n          (tallestRealLabel?.height ?? 0)\n      );\n    } else {\n      if (measureDims.length) {\n        const topMostLabelDim = measureDims.reduce((d, labelDim) =>\n          labelDim.top < d.top ? labelDim : d\n        );\n\n        const bottomMostLabelDim = measureDims.reduce((d, labelDim) =>\n          labelDim.bottom > d.bottom ? labelDim : d\n        );\n\n        newDimensions.top = Math.round(\n          Math.max(0, domainDims.top - topMostLabelDim?.top)\n        );\n\n        newDimensions.bottom = Math.round(\n          Math.max(0, bottomMostLabelDim?.bottom - domainDims.bottom)\n        );\n      }\n\n      newDimensions.width = Math.round(\n        Math.max(tickSizeInner, tickSizeOuter) +\n          tickPadding +\n          (widestRealLabel?.width ?? 0)\n      );\n    }\n\n    // Only update the axisDimensions if something has changed\n    if (\n      !axisDimension ||\n      Object.keys(newDimensions).some(key => {\n        return newDimensions[key] !== axisDimension[key];\n      })\n    ) {\n      setChartState(state => ({\n        ...state,\n        axisDimensions: {\n          ...state.axisDimensions,\n          [position]: {\n            ...(state.axisDimensions[position] || {}),\n            [id]: newDimensions,\n          },\n        },\n      }));\n    }\n  });\n}\n","import React from 'react';\n//\nimport { translateX, translateY, translate } from '../utils/Utils';\n\nimport Path from '../primitives/Path';\nimport Line from '../primitives/Line';\nimport Text from '../primitives/Text';\nimport Group from '../primitives/Group';\n\nimport {\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft,\n  axisTypeOrdinal,\n} from '../utils/Constants.js';\nimport useChartContext from '../hooks/useChartContext';\nimport useMeasure from './AxisLinear.useMeasure';\n\nconst defaultStyles = {\n  line: {\n    strokeWidth: '1',\n    fill: 'transparent',\n  },\n  tick: {\n    fontSize: 10,\n    fontFamily: 'sans-serif',\n  },\n};\n\nexport default function AxisLinear(axis) {\n  const {\n    type,\n    position,\n    tickSizeInner,\n    tickSizeOuter,\n    show,\n    showGrid,\n    showTicks,\n    styles,\n    ticks,\n    scale,\n    max: scaleMax,\n    transform,\n    vertical,\n    format,\n    range: [range0, range1],\n    directionMultiplier,\n    tickOffset,\n    gridOffset,\n    spacing,\n    labelRotation,\n  } = axis;\n  const [showRotated, setShowRotated] = React.useState(false);\n  const [rotation, setRotation] = React.useState(0);\n  const { gridWidth, gridHeight, dark } = useChartContext();\n\n  const elRef = React.useRef();\n\n  useMeasure({\n    ...axis,\n    elRef,\n    rotation,\n    gridWidth,\n    gridHeight,\n    setRotation,\n    showRotated,\n    setShowRotated,\n  });\n\n  // Not ready? Render null\n  if (!show) {\n    return null;\n  }\n\n  let axisPath;\n  if (vertical) {\n    if (position === positionLeft) {\n      axisPath = `\n        M ${-tickSizeOuter}, ${range0}\n        H 0\n        V ${range1}\n        H ${-tickSizeOuter}\n      `;\n    } else {\n      axisPath = `\n        M ${tickSizeOuter}, ${range0}\n        H 0\n        V ${range1}\n        H ${tickSizeOuter}\n      `;\n    }\n  } else if (position === positionBottom) {\n    axisPath = `\n        M 0, ${tickSizeOuter}\n        V 0\n        H ${range1}\n        V ${tickSizeOuter}\n      `;\n  } else {\n    axisPath = `\n        M 0, ${-tickSizeOuter}\n        V 0\n        H ${range1}\n        V ${-tickSizeOuter}\n              `;\n  }\n\n  let showGridLine;\n  if (typeof showGrid === 'boolean') {\n    showGridLine = showGrid;\n  } else if (type === axisTypeOrdinal) {\n    showGridLine = false;\n  } else {\n    showGridLine = true;\n  }\n\n  // Combine default styles with style props\n  const axisStyles = {\n    ...defaultStyles,\n    ...styles,\n  };\n\n  const renderAxis = (isRotated: boolean) => {\n    const show = isRotated ? showRotated : !showRotated;\n\n    return (\n      <Group\n        className={`Axis ${isRotated ? 'rotated' : 'unrotated'}`}\n        style={{\n          transform:\n            position === positionRight\n              ? translateX(gridWidth)\n              : position === positionBottom\n              ? translateY(gridHeight)\n              : undefined,\n          ...(show\n            ? {\n                opacity: 1,\n                pointerEvents: 'all',\n              }\n            : {\n                opacity: 0,\n                pointerEvents: 'none',\n              }),\n        }}\n      >\n        <Path\n          className=\"domain\"\n          d={axisPath}\n          style={{\n            stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n            ...axisStyles.line,\n          }}\n        />\n        <Group className=\"ticks\">\n          {ticks.map((tick, i) => (\n            <Group\n              key={[String(tick), i].join('_')}\n              className=\"tick\"\n              style={{\n                transform: transform(scale(tick) || 0),\n              }}\n            >\n              {/* Render the grid line */}\n              {showGridLine && (\n                <Line\n                  className=\"gridLine\"\n                  x1={vertical ? 0 : gridOffset}\n                  x2={vertical ? scaleMax : gridOffset}\n                  y1={vertical ? gridOffset : 0}\n                  y2={vertical ? gridOffset : scaleMax}\n                  style={{\n                    stroke: dark\n                      ? 'rgba(255,255,255, .05)'\n                      : 'rgba(0,0,0, .05)',\n                    strokeWidth: 1,\n                    ...axisStyles.line,\n                  }}\n                />\n              )}\n              {/* Render the tick line  */}\n              {showTicks ? (\n                <g className=\"labelGroup\">\n                  <Line\n                    className=\"tickline\"\n                    x1={vertical ? 0 : tickOffset}\n                    x2={\n                      vertical\n                        ? directionMultiplier * tickSizeInner\n                        : tickOffset\n                    }\n                    y1={vertical ? tickOffset : 0}\n                    y2={\n                      vertical\n                        ? tickOffset\n                        : directionMultiplier * tickSizeInner\n                    }\n                    style={{\n                      stroke: dark\n                        ? 'rgba(255,255,255, .1)'\n                        : 'rgba(0,0,0, .1)',\n                      strokeWidth: 1,\n                      ...axisStyles.line,\n                    }}\n                  />\n                  <Text\n                    className=\"tickLabel\"\n                    style={{\n                      fill: dark ? 'white' : 'black',\n                      ...axisStyles.tick,\n                      transform: `${translate(\n                        vertical ? directionMultiplier * spacing : tickOffset,\n                        vertical ? tickOffset : directionMultiplier * spacing\n                      )} rotate(${\n                        isRotated\n                          ? position === 'top'\n                            ? labelRotation\n                            : -labelRotation\n                          : 0\n                      }deg)`,\n                    }}\n                    dominantBaseline={\n                      isRotated\n                        ? 'central'\n                        : position === positionBottom\n                        ? 'hanging'\n                        : position === positionTop\n                        ? 'alphabetic'\n                        : 'central'\n                    }\n                    textAnchor={\n                      isRotated\n                        ? 'end'\n                        : position === positionRight\n                        ? 'start'\n                        : position === positionLeft\n                        ? 'end'\n                        : 'middle'\n                    }\n                  >\n                    {format(tick, i)}\n                  </Text>\n                </g>\n              ) : null}\n            </Group>\n          ))}\n        </Group>\n      </Group>\n    );\n  };\n\n  return (\n    <Group ref={elRef}>\n      {renderAxis(false)}\n      {renderAxis(true)}\n    </Group>\n  );\n}\n","import React from 'react'\n//\nimport AxisLinear from './AxisLinear'\n\nexport default function Axis(props) {\n  return <AxisLinear {...props} />\n}\n","import React from 'react'\nimport useChartContext from '../hooks/useChartContext'\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect'\n//\nimport { getAxisByAxisId, translate } from '../utils/Utils'\n//\n\nconst triangleSize = 7\n\nconst getBackgroundColor = dark =>\n  dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)'\n\nexport default function Tooltip() {\n  const chartContext = useChartContext()\n\n  const {\n    primaryAxes,\n    secondaryAxes,\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight,\n    dark,\n    focused,\n    latestFocused,\n    getDatumStyle,\n    tooltip,\n  } = chartContext\n\n  const elRef = React.useRef()\n  const tooltipElRef = React.useRef()\n  const previousShowRef = React.useRef()\n\n  const {\n    align,\n    alignPriority,\n    padding,\n    tooltipArrowPadding,\n    //\n    arrowPosition,\n    render,\n    anchor,\n    show,\n  } = tooltip || {}\n\n  const [finalAlign, setFinalAlign] = React.useState(align || 'auto')\n\n  React.useEffect(() => {\n    previousShowRef.current = show\n  }, [show])\n\n  useIsomorphicLayoutEffect(() => {\n    if (align !== 'auto' || !elRef.current || !show || !anchor) {\n      return\n    }\n\n    const space = {\n      left: Infinity,\n      top: Infinity,\n      right: Infinity,\n      bottom: Infinity,\n    }\n\n    let container = elRef.current\n    const gridDims = container.getBoundingClientRect()\n    const tooltipDims = tooltipElRef.current.getBoundingClientRect()\n\n    while (container !== document.body) {\n      container = container.parentElement\n      const { overflowX, overflowY } = window.getComputedStyle(container)\n      if (\n        container === document.body ||\n        [overflowX, overflowY].find(d => ['auto', 'hidden'].includes(d))\n      ) {\n        const containerDims = container.getBoundingClientRect()\n        const left = gridDims.left - containerDims.left + anchor.x\n        const top = gridDims.top - containerDims.top + anchor.y\n        const right = containerDims.width - left\n        const bottom = containerDims.height - top\n\n        space.left = Math.min(space.left, left)\n        space.top = Math.min(space.top, top)\n        space.right = Math.min(space.right, right)\n        space.bottom = Math.min(space.bottom, bottom)\n      }\n    }\n\n    let resolvedAlign = null\n\n    alignPriority.forEach(priority => {\n      if (resolvedAlign) {\n        return\n      }\n      const fits = {\n        left:\n          space.left -\n            tooltipArrowPadding -\n            padding -\n            anchor.horizontalPadding >\n          tooltipDims.width,\n        right:\n          space.right -\n            tooltipArrowPadding -\n            padding -\n            anchor.horizontalPadding >\n          tooltipDims.width,\n        top:\n          space.top - tooltipArrowPadding - padding - anchor.verticalPadding >\n            tooltipDims.height && space.left > tooltipDims.width / 2,\n        bottom:\n          space.bottom -\n            tooltipArrowPadding -\n            padding -\n            anchor.verticalPadding >\n          tooltipDims.height,\n        centeredFromLeft: space.left > tooltipDims.width / 2,\n        centeredFromRight: space.right > tooltipDims.width / 2,\n        centeredFromTop: space.top > tooltipDims.height / 2,\n        centeredFromBottom: space.bottom > tooltipDims.height / 2,\n      }\n      if (priority === 'left') {\n        if (fits.left && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority\n        }\n      } else if (priority === 'right') {\n        if (fits.right && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority\n        }\n      } else if (priority === 'top') {\n        if (fits.top && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority\n        }\n      } else if (priority === 'bottom') {\n        if (fits.bottom && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority\n        }\n      } else if (priority === 'topLeft') {\n        if (fits.top && fits.left) {\n          resolvedAlign = priority\n        }\n      } else if (priority === 'topRight') {\n        if (fits.top && fits.right) {\n          resolvedAlign = priority\n        }\n      } else if (priority === 'bottomLeft') {\n        if (fits.bottom && fits.left) {\n          resolvedAlign = priority\n        }\n      } else if (priority === 'bottomRight') {\n        if (fits.bottom && fits.right) {\n          resolvedAlign = priority\n        }\n      }\n    })\n\n    if (resolvedAlign !== finalAlign) {\n      setFinalAlign(resolvedAlign)\n    }\n  }, [\n    align,\n    alignPriority,\n    anchor,\n    finalAlign,\n    padding,\n    show,\n    tooltipArrowPadding,\n  ])\n\n  if (!tooltip) {\n    return null\n  }\n\n  const resolvedFocused = focused || latestFocused\n\n  let alignX = 0\n  let alignY = -50\n  let triangleStyles = {}\n\n  const backgroundColor = getBackgroundColor(dark)\n\n  let resolvedArrowPosition = arrowPosition\n\n  if (finalAlign === 'top') {\n    alignX = -50\n    alignY = -100\n  } else if (finalAlign === 'topRight') {\n    alignX = 0\n    alignY = -100\n  } else if (finalAlign === 'right') {\n    alignX = 0\n    alignY = -50\n  } else if (finalAlign === 'bottomRight') {\n    alignX = 0\n    alignY = 0\n  } else if (finalAlign === 'bottom') {\n    alignX = -50\n    alignY = 0\n  } else if (finalAlign === 'bottomLeft') {\n    alignX = -100\n    alignY = 0\n  } else if (finalAlign === 'left') {\n    alignX = -100\n    alignY = -50\n  } else if (finalAlign === 'topLeft') {\n    alignX = -100\n    alignY = -100\n  } else if (finalAlign === 'center') {\n    alignX = -50\n    alignY = -50\n  }\n\n  if (!resolvedArrowPosition) {\n    if (finalAlign === 'left') {\n      resolvedArrowPosition = 'right'\n    } else if (finalAlign === 'right') {\n      resolvedArrowPosition = 'left'\n    } else if (finalAlign === 'top') {\n      resolvedArrowPosition = 'bottom'\n    } else if (finalAlign === 'bottom') {\n      resolvedArrowPosition = 'top'\n    } else if (finalAlign === 'topRight') {\n      resolvedArrowPosition = 'bottomLeft'\n    } else if (finalAlign === 'bottomRight') {\n      resolvedArrowPosition = 'topLeft'\n    } else if (finalAlign === 'topLeft') {\n      resolvedArrowPosition = 'bottomRight'\n    } else if (finalAlign === 'bottomLeft') {\n      resolvedArrowPosition = 'topRight'\n    }\n  }\n\n  if (resolvedArrowPosition === 'bottom') {\n    triangleStyles = {\n      top: '100%',\n      left: '50%',\n      transform: 'translate3d(-50%, 0%, 0)',\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderTop: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (resolvedArrowPosition === 'top') {\n    triangleStyles = {\n      top: '0%',\n      left: '50%',\n      transform: 'translate3d(-50%, -100%, 0)',\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (resolvedArrowPosition === 'right') {\n    triangleStyles = {\n      top: '50%',\n      left: '100%',\n      transform: 'translate3d(0%, -50%, 0)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (resolvedArrowPosition === 'left') {\n    triangleStyles = {\n      top: '50%',\n      left: '0%',\n      transform: 'translate3d(-100%, -50%, 0)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (resolvedArrowPosition === 'topRight') {\n    triangleStyles = {\n      top: '0%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (resolvedArrowPosition === 'bottomRight') {\n    triangleStyles = {\n      top: '100%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (resolvedArrowPosition === 'topLeft') {\n    triangleStyles = {\n      top: '0%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (resolvedArrowPosition === 'bottomLeft') {\n    triangleStyles = {\n      top: '100%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else {\n    triangleStyles = {\n      opacity: 0,\n    }\n  }\n\n  const primaryAxis = getAxisByAxisId(\n    primaryAxes,\n    resolvedFocused ? resolvedFocused.series.primaryAxisId : null\n  )\n  const secondaryAxis = getAxisByAxisId(\n    secondaryAxes,\n    resolvedFocused ? resolvedFocused.series.secondaryAxisId : null\n  )\n\n  const resolvedHorizontalPadding = padding + anchor.horizontalPadding\n  const resolvedVerticalPadding = padding + anchor.verticalPadding\n\n  const renderProps = {\n    ...chartContext,\n    ...chartContext.tooltip,\n    datum: resolvedFocused,\n    getStyle: datum => datum.getStatusStyle(resolvedFocused, getDatumStyle),\n    primaryAxis,\n    secondaryAxis,\n  }\n\n  const renderedChildren = React.createElement(render, renderProps)\n\n  let animateCoords\n  if (previousShowRef.current === show) {\n    animateCoords = true\n  }\n\n  return (\n    <div\n      className=\"tooltip-wrap\"\n      style={{\n        pointerEvents: 'none',\n        position: 'absolute',\n        left: `${gridX}px`,\n        top: `${gridY}px`,\n        width: `${gridWidth}px`,\n        height: `${gridHeight}px`,\n        opacity: show ? 1 : 0,\n        transition: 'all .3s ease',\n      }}\n      ref={el => {\n        elRef.current = el\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          transform: translate(anchor.x, anchor.y),\n          transition: animateCoords ? 'all .2s ease' : 'opacity .2s ease',\n        }}\n      >\n        <div\n          style={{\n            transform: `translate3d(${alignX}%, ${alignY}%, 0)`,\n            padding: `${tooltipArrowPadding +\n              resolvedVerticalPadding}px ${tooltipArrowPadding +\n              resolvedHorizontalPadding}px`,\n            width: 'auto',\n            transition: 'all .2s ease',\n          }}\n        >\n          <div\n            ref={el => {\n              tooltipElRef.current = el\n            }}\n            style={{\n              fontSize: '12px',\n              padding: '5px',\n              background: getBackgroundColor(dark),\n              color: dark ? 'black' : 'white',\n              borderRadius: '3px',\n              position: 'relative',\n            }}\n          >\n            <div\n              style={{\n                position: 'absolute',\n                width: 0,\n                height: 0,\n                ...triangleStyles,\n                transition: animateCoords ? 'all .2s ease' : 'none',\n              }}\n            />\n            {renderedChildren}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\n//\nimport { translate } from '../utils/Utils';\n\nimport useChartContext from '../hooks/useChartContext';\nimport useLatest from '../hooks/useLatest';\n\nconst getLineBackgroundColor = dark =>\n  dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)';\n\nconst getBackgroundColor = dark =>\n  dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)';\n\nexport default function Cursor({ primary }) {\n  const {\n    focused,\n    latestFocused,\n    primaryCursor,\n    secondaryCursor,\n    gridX,\n    gridY,\n    dark,\n  } = useChartContext();\n\n  const resolvedFocused = focused || latestFocused;\n  const cursor = primary ? primaryCursor : secondaryCursor;\n\n  const {\n    showLine,\n    showLabel,\n    resolvedValue,\n    snap,\n    render,\n    axis,\n    siblingAxis,\n    resolvedShow,\n  } = cursor || {};\n\n  const latestValue = useLatest(\n    resolvedValue,\n    typeof resolvedValue !== 'undefined'\n  );\n\n  const previousShowRef = React.useRef();\n  React.useEffect(() => {\n    previousShowRef.current = resolvedShow;\n  }, [resolvedShow]);\n\n  if (!cursor) {\n    return null;\n  }\n\n  // Should we animate?\n  const animated = snap || axis.type === 'ordinal';\n\n  // Get the sibling range\n  const siblingRange = siblingAxis.scale.range();\n\n  let x;\n  let y;\n  let x1;\n  let x2;\n  let y1;\n  let y2;\n  let alignPctX;\n  let alignPctY;\n\n  // Vertical alignment\n  if (axis.vertical) {\n    y = axis.scale(latestValue);\n    y1 = y - 1;\n    y2 = y + axis.cursorSize + 1;\n    if (axis.position === 'left') {\n      x1 = siblingRange[0];\n      x2 = siblingRange[1];\n    } else {\n      x1 = siblingRange[1];\n      x2 = siblingRange[0];\n    }\n  } else {\n    x = axis.scale(latestValue);\n    x1 = x - 1;\n    x2 = x + axis.cursorSize + 1;\n    if (axis.position === 'top') {\n      y1 = siblingRange[0];\n      y2 = siblingRange[1];\n    } else {\n      y1 = siblingRange[1];\n      y2 = siblingRange[0];\n    }\n  }\n\n  const lineStartX = Math.min(x1, x2);\n  const lineStartY = Math.min(y1, y2);\n  const lineEndX = Math.max(x1, x2);\n  const lineEndY = Math.max(y1, y2);\n  const lineHeight = Math.max(lineEndY - lineStartY, 0);\n  const lineWidth = Math.max(lineEndX - lineStartX, 0);\n\n  let bubbleX;\n  let bubbleY;\n\n  // Bubble placement\n  if (axis.vertical) {\n    if (axis.position === 'left') {\n      if (!axis.RTL) {\n        bubbleX = lineStartX;\n      } else {\n        bubbleX = lineEndX;\n      }\n    } else {\n      if (!axis.RTL) {\n        bubbleX = lineEndX;\n      } else {\n        bubbleX = lineStartX;\n      }\n    }\n\n    bubbleY = lineStartY + lineHeight / 2;\n  } else {\n    bubbleX = lineStartX + lineWidth / 2;\n\n    if (axis.position === 'top') {\n      bubbleY = lineStartY;\n    } else {\n      bubbleY = lineEndY;\n    }\n  }\n\n  // Bubble anchoring\n  if (axis.vertical) {\n    alignPctY = -50;\n    if (axis.position === 'left') {\n      alignPctX = -100;\n    } else {\n      alignPctX = 0;\n    }\n  } else {\n    alignPctX = -50;\n    if (axis.position === 'top') {\n      alignPctY = -100;\n    } else {\n      alignPctY = 0;\n    }\n  }\n\n  const renderProps = { ...cursor };\n\n  renderProps.formattedValue = String(\n    axis.vertical\n      ? typeof latestValue !== 'undefined'\n        ? axis.format(\n            axis.stacked && !primary && resolvedFocused\n              ? resolvedFocused.totalValue\n              : latestValue\n          )\n        : ''\n      : typeof latestValue !== 'undefined'\n      ? axis.format(\n          axis.stacked && !primary && resolvedFocused\n            ? resolvedFocused.totalValue\n            : latestValue\n        )\n      : ''\n  );\n\n  // if (!axis.vertical) {\n  // console.log({ bubbleX, bubbleY });\n  // }\n\n  let animateCoords;\n  if (previousShowRef.current === resolvedShow) {\n    animateCoords = true;\n  }\n\n  let renderedChildren = render(renderProps);\n\n  return (\n    <div\n      style={{\n        pointerEvents: 'none',\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        transform: translate(gridX, gridY),\n        opacity: resolvedShow ? 1 : 0,\n        transition: 'all .3s ease',\n      }}\n      className=\"Cursor\"\n    >\n      {/* Render the cursor line */}\n      {showLine ? (\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            transform: translate(lineStartX, lineStartY),\n            width: `${lineWidth}px`,\n            height: `${lineHeight}px`,\n            background: getLineBackgroundColor(dark),\n            transition:\n              animated && animateCoords ? 'all .2s ease' : 'opacity .2s ease',\n          }}\n        />\n      ) : null}\n      {/* Render the cursor bubble */}\n      {showLabel ? (\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            transform: translate(bubbleX, bubbleY),\n            transition:\n              animated && animateCoords ? 'all .2s ease' : 'opacity .2s ease',\n          }}\n        >\n          {/* Render the cursor label */}\n          <div\n            style={{\n              padding: '5px',\n              fontSize: '10px',\n              background: getBackgroundColor(dark),\n              color: getBackgroundColor(!dark),\n              borderRadius: '3px',\n              position: 'relative',\n              transform: `translate3d(${alignPctX}%, ${alignPctY}%, 0)`,\n              whiteSpace: 'nowrap',\n            }}\n          >\n            {renderedChildren}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React from 'react'\nimport { translate } from '../utils/Utils'\n//\nimport useChartContext from '../hooks/useChartContext'\nimport useChartState from '../hooks/useChartState'\n\nexport default function Brush() {\n  const { brush, gridX, gridY, gridHeight, dark } = useChartContext()\n  const [pointer] = useChartState(d => d.pointer)\n\n  if (!brush) {\n    return null\n  }\n\n  return (\n    <div\n      className=\"Brush\"\n      style={{\n        pointerEvents: 'none',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        transform: translate(gridX, gridY),\n        opacity: pointer.dragging\n          ? Math.abs(pointer.sourceX - pointer.x) < 20\n            ? 0.5\n            : 1\n          : 0,\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          transform: translate(Math.min(pointer.x, pointer.sourceX), 0),\n          width: `${Math.abs(pointer.x - pointer.sourceX)}px`,\n          height: `${gridHeight}px`,\n          background: dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)',\n          ...brush.style,\n        }}\n      />\n    </div>\n  )\n}\n","import React from 'react';\n//\nimport Raf from '../utils/Raf';\nimport { translate } from '../utils/Utils';\n\nimport useChartContext from '../hooks/useChartContext';\nimport useChartState from '../hooks/useChartState';\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect';\n\nimport Rectangle from '../primitives/Rectangle';\n\nimport Voronoi from './Voronoi';\nimport Axis from './Axis';\nimport Tooltip from './Tooltip';\nimport Cursor from './Cursor';\nimport Brush from './Brush';\n\nexport default React.forwardRef(function ChartInner(\n  { className, style = {}, ...rest },\n  ref\n) {\n  const svgRef = React.useRef();\n\n  const {\n    width,\n    height,\n    gridX,\n    gridY,\n    stackData,\n    primaryAxes,\n    secondaryAxes,\n    renderSVG,\n    seriesOptions,\n    getSeriesOrder,\n    focused,\n    getOnClick,\n  } = useChartContext();\n\n  const [offset] = useChartState(d => d.offset);\n  const [setOffset, setChartState] = useChartState(d => d.setOffset);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!svgRef.current) {\n      return;\n    }\n\n    const current = svgRef.current.getBoundingClientRect();\n\n    if (current.left !== offset.left || current.top !== offset.top) {\n      setOffset({\n        left: current.left,\n        top: current.top,\n      });\n    }\n  });\n\n  const onMouseLeave = e => {\n    setChartState(old => ({ ...old, focused: null }));\n    setChartState(old => ({\n      ...old,\n      pointer: {\n        ...old.pointer,\n        active: false,\n      },\n    }));\n  };\n\n  const rafRef = React.useRef();\n\n  const onMouseMove = e => {\n    if (rafRef.current) {\n      Raf.cancel(rafRef.current);\n    }\n    rafRef.current = Raf(() => {\n      rafRef.current = null;\n      const { clientX, clientY } = e;\n\n      setChartState(old => {\n        const x = clientX - offset.left - gridX;\n        const y = clientY - offset.top - gridY;\n\n        const pointer = {\n          ...old.pointer,\n          active: true,\n          x,\n          y,\n          dragging: old.pointer?.down,\n        };\n\n        return {\n          ...old,\n          pointer,\n        };\n      });\n    });\n  };\n\n  const onMouseUp = () => {\n    document.removeEventListener('mouseup', onMouseUp);\n    document.removeEventListener('mousemove', onMouseMove);\n\n    setChartState(old => {\n      return {\n        ...old,\n        pointer: {\n          ...old.pointer,\n          down: false,\n          dragging: false,\n          released: {\n            x: old.pointer.x,\n            y: old.pointer.y,\n          },\n        },\n      };\n    });\n  };\n\n  const onMouseDown = () => {\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('mousemove', onMouseMove);\n\n    setChartState(old => ({\n      ...old,\n      pointer: {\n        ...old.pointer,\n        sourceX: old.pointer.x,\n        sourceY: old.pointer.y,\n        down: true,\n      },\n    }));\n  };\n\n  // Reverse the stack order for proper z-indexing\n  const reversedStackData = [...stackData].reverse();\n  const orderedStackData = getSeriesOrder(reversedStackData);\n\n  const focusedSeriesIndex = focused\n    ? orderedStackData.findIndex(series => series.id === focused.series.id)\n    : -1;\n\n  // Bring focused series to the front\n  const focusOrderedStackData = focused\n    ? [\n        ...orderedStackData.slice(0, focusedSeriesIndex),\n        ...orderedStackData.slice(focusedSeriesIndex + 1),\n        orderedStackData[focusedSeriesIndex],\n      ]\n    : orderedStackData;\n\n  const stacks = focusOrderedStackData.map(stack => {\n    return (\n      <stack.Component\n        key={stack.id}\n        {...seriesOptions[stack.index]}\n        series={stack}\n        stackData={stackData}\n      />\n    );\n  });\n\n  useIsomorphicLayoutEffect(() => {\n    if (\n      ref.current &&\n      ref.current.parentElement &&\n      !ref.current.parentElement.style.position\n    ) {\n      ref.current.parentElement.style.position = 'relative';\n    }\n  });\n\n  return (\n    <div\n      ref={ref}\n      {...rest}\n      className={`ReactChart ${className || ''}`}\n      style={{\n        width,\n        height,\n        position: 'absolute',\n        ...style,\n      }}\n      onClick={getOnClick() ? e => getOnClick()(focused, e) : undefined}\n    >\n      <svg\n        ref={svgRef}\n        style={{\n          width,\n          height,\n          overflow: 'hidden',\n        }}\n        onMouseEnter={e => e.persist() || onMouseMove(e)}\n        onMouseMove={e => e.persist() || onMouseMove(e)}\n        onMouseLeave={e => e.persist() || onMouseLeave(e)}\n        onMouseDown={e => e.persist() || onMouseDown(e)}\n      >\n        {width && height ? (\n          <>\n            <g\n              style={{\n                transform: translate(gridX, gridY),\n              }}\n            >\n              <Rectangle\n                // To ensure the pointer always has something to hit\n                x1={-gridX}\n                x2={width - gridX}\n                y1={-gridY}\n                y2={height - gridY}\n                style={{\n                  opacity: 0,\n                }}\n              />\n              <Voronoi />\n              <g className=\"axes\">\n                {[...primaryAxes, ...secondaryAxes].map(axis => (\n                  <Axis key={axis.id} {...axis} />\n                ))}\n              </g>\n              <g\n                className=\"Series\"\n                style={{\n                  pointerEvents: 'none',\n                }}\n              >\n                {stacks}\n              </g>\n            </g>\n            {renderSVG ? renderSVG() : null}\n          </>\n        ) : null}\n      </svg>\n      <Cursor primary />\n      <Cursor />\n      <Brush />\n      <Tooltip />\n    </div>\n  );\n});\n","import React from 'react'\n//\n\nexport default ({ data }) => {\n  return React.useMemo(() => {\n    const materializedData = []\n\n    // First access the data, and provide it to the context\n    for (let seriesIndex = 0; seriesIndex < data.length; seriesIndex++) {\n      const originalSeries = data[seriesIndex]\n      const seriesId = originalSeries.id ?? seriesIndex\n      const seriesLabel = originalSeries.label ?? `Series ${seriesIndex + 1}`\n      const primaryAxisId = originalSeries.primaryAxisId\n      const secondaryAxisId = originalSeries.secondaryAxisId\n      const originalDatums = originalSeries.data\n      const datums = []\n\n      for (\n        let datumIndex = 0;\n        datumIndex < originalDatums.length;\n        datumIndex++\n      ) {\n        const originalDatum = originalDatums[datumIndex]\n        datums[datumIndex] = {\n          originalSeries,\n          seriesIndex,\n          seriesId,\n          seriesLabel,\n          index: datumIndex,\n          originalDatum,\n          primary: originalDatum.primary,\n          secondary: originalDatum.secondary,\n          radius: originalDatum.radius,\n        }\n      }\n\n      materializedData[seriesIndex] = {\n        originalSeries,\n        index: seriesIndex,\n        id: seriesId,\n        label: seriesLabel,\n        primaryAxisId,\n        secondaryAxisId,\n        datums,\n      }\n    }\n\n    return materializedData\n  }, [data])\n}\n","import useChartContext from './useChartContext'\n\nexport default function useSeriesStyle(series) {\n  const { focused, getSeriesStyle } = useChartContext()\n  return series.getStatusStyle(focused, getSeriesStyle)\n}\n","import useChartContext from './useChartContext'\n//\n\nexport default function useDatumStyle(datum) {\n  const { focused, getDatumStyle } = useChartContext()\n  return datum.getStatusStyle(focused, getDatumStyle)\n}\n","import React from 'react';\n//\n\nconst defaultStyle = {\n  r: 2,\n  strokeWidth: '1',\n  stroke: '#000000',\n  fill: '#000000',\n  opacity: 1,\n};\n\nconst Circle = React.forwardRef<\n  SVGCircleElement,\n  React.ComponentProps<'circle'>\n>(({ style, ...rest }, ref) => {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  };\n\n  return <circle ref={ref} {...rest} style={resolvedStyle} />;\n});\n\nexport default Circle;\n","import React from 'react';\nimport { line } from '../../d3';\n\n//\nimport { isValidPoint, buildStyleGetters } from '../utils/Utils';\nimport { curveMonotoneX } from '@visx/curve';\n\nimport useSeriesStyle from '../hooks/useSeriesStyle';\nimport useDatumStyle from '../hooks/useDatumStyle';\n\nimport Path from '../primitives/Path';\nimport Circle from '../primitives/Circle';\nimport useChartState from '../hooks/useChartState';\n\nconst pathDefaultStyle = {\n  strokeWidth: 2,\n};\n\nconst circleDefaultStyle = {\n  r: 2,\n};\n\nexport default function Line({ series, showPoints, curve }) {\n  const lineFn = React.useMemo(\n    () =>\n      line()\n        .x((d) => d.x)\n        .y((d) => d.y)\n        .defined((d) => d.defined)\n        .curve(curve),\n    [curve]\n  );\n  const path = React.useMemo(() => lineFn(series.datums), [\n    lineFn,\n    series.datums,\n  ]);\n\n  const style = useSeriesStyle(series);\n\n  const pathProps = {\n    d: path,\n    style: {\n      ...pathDefaultStyle,\n      ...style,\n      ...style.line,\n      fill: 'none',\n    },\n  };\n\n  return (\n    <g>\n      <Path {...pathProps} />\n      {showPoints &&\n        series.datums.map((datum, i) => {\n          return (\n            <Point\n              {...{\n                key: i,\n                datum,\n                style,\n              }}\n            />\n          );\n        })}\n    </g>\n  );\n}\n\nLine.defaultProps = {\n  curve: curveMonotoneX,\n};\n\nLine.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = isValidPoint(datum.xValue) && isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue);\n\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n  };\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [datum.anchor];\n};\n\nLine.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  };\n\n  buildStyleGetters(series, defaults);\n};\n\nfunction Point({ datum, style }) {\n  const [, setChartState] = useChartState(() => null);\n\n  const dataStyle = useDatumStyle(datum);\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      (e) =>\n        setChartState((state) => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      (e) =>\n        setChartState((state) => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  };\n\n  if (!datum.defined) {\n    return null;\n  }\n\n  return <Circle {...circleProps} />;\n}\n","import React from 'react';\n//\n\nimport { isValidPoint, buildStyleGetters } from '../utils/Utils';\n\nimport useSeriesStyle from '../hooks/useSeriesStyle';\nimport useDatumStyle from '../hooks/useDatumStyle';\n\nimport Circle from '../primitives/Circle';\nimport useChartState from '../hooks/useChartState';\n\nconst circleDefaultStyle = {\n  r: 2,\n};\n\nexport default function Bubble({ series }) {\n  const style = useSeriesStyle(series);\n\n  return (\n    <g>\n      {series.datums.map((datum, i) => {\n        return (\n          <Point\n            {...{\n              key: i,\n              datum,\n              style,\n            }}\n          />\n        );\n      })}\n    </g>\n  );\n}\n\nBubble.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = isValidPoint(datum.xValue) && isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue);\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    verticalPadding: datum.r,\n    horizontalPadding: datum.r,\n  };\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [datum.anchor];\n};\n\nBubble.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  };\n\n  buildStyleGetters(series, defaults);\n};\n\nfunction Point({ datum, style }) {\n  const dataStyle = useDatumStyle(datum);\n  const [, setChartState] = useChartState(() => null);\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...(typeof datum.radius !== 'undefined'\n        ? {\n            r: datum.radius,\n          }\n        : {}),\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      (e) =>\n        setChartState((state) => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      (e) =>\n        setChartState((state) => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  };\n\n  if (!datum.defined) {\n    return null;\n  }\n  return <Circle {...circleProps} />;\n}\n","import React from 'react';\nimport { area, line } from '../../d3';\n//\n\nimport { isValidPoint, buildStyleGetters } from '../utils/Utils';\nimport { curveLinear } from '@visx/curve';\n\nimport useSeriesStyle from '../hooks/useSeriesStyle';\nimport useDatumStyle from '../hooks/useDatumStyle';\n\nimport Path from '../primitives/Path';\nimport Line from '../primitives/Line';\nimport Circle from '../primitives/Circle';\nimport useChartState from '../hooks/useChartState';\n\nconst defaultAreaStyle = {\n  strokeWidth: 0,\n};\n\nconst defaultLineStyle = {\n  strokeWidth: 2,\n};\n\nconst circleDefaultStyle = {\n  r: 1.5,\n};\n\nexport default function Area({ series, showOrphans, showPoints, curve }) {\n  const areaFn = React.useMemo(\n    () =>\n      area()\n        .x((d) => d.x)\n        .y0((d) => d.base)\n        .y1((d) => d.y)\n        .defined((d) => d.defined)\n        .curve(curve),\n    [curve]\n  );\n\n  const lineFn = React.useMemo(\n    () =>\n      line()\n        .x((d) => d.x)\n        .y((d) => d.y)\n        .defined((d) => d.defined)\n        .curve(curve),\n    [curve]\n  );\n\n  const areaPath = React.useMemo(() => areaFn(series.datums), [\n    areaFn,\n    series.datums,\n  ]);\n\n  const linePath = React.useMemo(() => lineFn(series.datums), [\n    lineFn,\n    series.datums,\n  ]);\n\n  const style = useSeriesStyle(series);\n\n  const areaPathProps = {\n    d: areaPath,\n    style: {\n      ...defaultAreaStyle,\n      ...style,\n      ...style.area,\n    },\n  };\n\n  const linePathProps = {\n    d: linePath,\n    style: {\n      ...defaultLineStyle,\n      ...style,\n      ...style.line,\n      fill: 'none',\n    },\n  };\n\n  return (\n    <g>\n      <Path {...areaPathProps} />\n      <Path {...linePathProps} />\n      {showOrphans &&\n        series.datums.map((datum, index, all) => {\n          return (\n            <OrphanLine\n              {...{\n                key: index,\n                datum,\n                style,\n                all,\n                index,\n              }}\n            />\n          );\n        })}\n      {showPoints &&\n        series.datums.map((datum, i) => {\n          return (\n            <Point\n              {...{\n                key: i,\n                datum,\n                style,\n              }}\n            />\n          );\n        })}\n    </g>\n  );\n}\n\nArea.defaultProps = {\n  showOrphans: true,\n  showLine: true,\n  showPoints: true,\n  curve: curveLinear,\n};\n\nArea.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  // Turn clamping on for secondaryAxis\n  secondaryAxis.scale.clamp(true);\n\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = isValidPoint(datum.xValue) && isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue);\n\n  // Turn clamping back off for secondaryAxis\n  secondaryAxis.scale.clamp(false);\n\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n  };\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [\n    datum.anchor,\n    {\n      x: primaryAxis.vertical\n        ? primaryAxis.position === 'left'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.x,\n      y: !primaryAxis.vertical\n        ? primaryAxis.position === 'bottom'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.y,\n    },\n  ];\n};\n\nArea.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  };\n\n  buildStyleGetters(series, defaults);\n};\n\nconst OrphanLine = function OrphanLine({ datum, style, all, index }) {\n  const prev = all[index - 1] || { defined: false };\n  const next = all[index + 1] || { defined: false };\n\n  const dataStyle = useDatumStyle(datum);\n\n  const lineProps = {\n    x1: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y1: !datum || Number.isNaN(datum.base) ? null : datum.base,\n    x2: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y2: !datum || Number.isNaN(datum.y) ? null : datum.y,\n    style: {\n      ...defaultLineStyle,\n      ...style,\n      ...style.line,\n      ...dataStyle,\n      ...dataStyle.line,\n    },\n  };\n\n  if (!datum.defined || prev.defined || next.defined) {\n    return null;\n  }\n\n  return <Line {...lineProps} />;\n};\n\nfunction Point({ datum, style }) {\n  const [, setChartState] = useChartState(() => null);\n\n  const dataStyle = useDatumStyle(datum);\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      (e) =>\n        setChartState((state) => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      (e) =>\n        setChartState((state) => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  };\n\n  if (!datum.defined) {\n    return null;\n  }\n\n  return <Circle {...circleProps} />;\n}\n","import React from 'react'\n//\nimport { isValidPoint, buildStyleGetters } from '../utils/Utils'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Rectangle from '../primitives/Rectangle'\nimport useChartContext from '../hooks/useChartContext'\nimport useChartState from '../hooks/useChartState'\n\nexport default function Bar({ series }) {\n  const { primaryAxes } = useChartContext()\n\n  const style = useSeriesStyle(series)\n\n  const { barOffset } = series.primaryAxisId\n    ? primaryAxes.find(d => d.id === series.primaryAxisId)\n    : primaryAxes[0]\n\n  return (\n    <g className=\"series bar\">\n      {series.datums.map((datum, i) => {\n        return (\n          <BarPiece\n            key={i}\n            {...{\n              datum,\n              barOffset,\n              style,\n            }}\n          />\n        )\n      })}\n    </g>\n  )\n}\n\nfunction BarPiece({ datum, barOffset, style }) {\n  const { primaryAxes } = useChartContext()\n  const [, setChartState] = useChartState(() => null)\n\n  const x = datum ? datum.x : 0\n  const y = datum ? datum.y : 0\n  const base = datum ? datum.base : 0\n  const size = Math.max(datum ? datum.size : 1, 1)\n  let x1\n  let y1\n  let x2\n  let y2\n  if (primaryAxes.find(d => d.vertical)) {\n    x1 = base\n    x2 = x\n    y1 = y + barOffset\n    y2 = y1 + size\n  } else {\n    x1 = x + barOffset\n    x2 = x1 + size\n    y1 = y\n    y2 = base\n  }\n\n  const dataStyle = useDatumStyle(datum)\n\n  const rectangleProps = {\n    style: {\n      pointerEvents: 'all',\n      ...style,\n      ...style.rectangle,\n      ...dataStyle,\n      ...dataStyle.rectangle,\n    },\n    x1: Number.isNaN(x1) ? null : x1,\n    y1: Number.isNaN(y1) ? null : y1,\n    x2: Number.isNaN(x2) ? null : x2,\n    y2: Number.isNaN(y2) ? null : y2,\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  return <Rectangle {...rectangleProps} />\n}\n\nBar.plotDatum = (datum, { xAxis, yAxis, primaryAxis, secondaryAxis }) => {\n  // Turn clamping on for secondaryAxis\n  secondaryAxis.scale.clamp(true)\n\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined = isValidPoint(datum.xValue) && isValidPoint(datum.yValue)\n  datum.base = secondaryAxis.scale(datum.baseValue)\n  datum.size = primaryAxis.barSize\n\n  // Turn clamping back off for secondaryAxis\n  secondaryAxis.scale.clamp(false)\n\n  if (!secondaryAxis.stacked) {\n    datum.size = primaryAxis.seriesBarSize\n    // Use the seriesTypeIndex here in case we have mixed types.\n    const seriesBandScaleOffset = primaryAxis.seriesBandScale(\n      datum.seriesTypeIndex\n    )\n    if (secondaryAxis.vertical) {\n      datum.x += seriesBandScaleOffset\n    } else {\n      datum.y += seriesBandScaleOffset\n    }\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    horizontalPadding: secondaryAxis.vertical ? datum.size / 2 : 0,\n    verticalPadding: secondaryAxis.vertical ? 0 : datum.size / 2,\n  }\n\n  // Adjust the anchor point for bars\n  if (!primaryAxis.vertical) {\n    datum.anchor.x += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2\n  } else {\n    datum.anchor.y += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [\n    // End of bar\n    datum.anchor,\n    // Start of bar\n    {\n      x: primaryAxis.vertical\n        ? primaryAxis.position === 'left'\n          ? datum.base + 1\n          : datum.base\n        : datum.anchor.x,\n      y: !primaryAxis.vertical\n        ? primaryAxis.position === 'bottom'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.y,\n    },\n  ]\n}\n\nBar.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  buildStyleGetters(series, defaults)\n}\n","import React from 'react';\n//\n\nimport { curveMonotoneX } from '@visx/curve';\n\nimport Line from '../../seriesTypes/Line';\nimport Bubble from '../../seriesTypes/Bubble';\nimport Area from '../../seriesTypes/Area';\nimport Bar from '../../seriesTypes/Bar';\n\nconst seriesTypes = {\n  line: Line,\n  bubble: Bubble,\n  area: Area,\n  bar: Bar,\n};\n\nconst defaultSeries = {\n  type: 'line',\n  showPoints: true,\n  showOrphans: true,\n  curve: curveMonotoneX,\n};\n\nexport default ({ materializedData, series }) => {\n  return React.useMemo(\n    () =>\n      materializedData.map((s, seriesIndex) => {\n        const { type, ...rest } = {\n          ...defaultSeries,\n          ...(typeof series === 'function' ? series(s, seriesIndex) : series),\n        };\n        const renderer = seriesTypes[type];\n        if (!renderer) {\n          throw new Error(\n            `Could not find a registered series type for ${type}`\n          );\n        }\n        return {\n          ...rest,\n          type,\n          renderer,\n        };\n      }),\n    [materializedData, series]\n  );\n};\n","import React from 'react'\n\nexport default ({ materializedData, seriesOptions }) =>\n  React.useMemo(() => {\n    return materializedData\n      .map((series, i) => {\n        series.Component = seriesOptions[i].renderer\n        return series\n      })\n      .map((series, i, all) => {\n        const seriesTypeIndex = all.filter(\n          (d, j) => j < i && d.Component === series.Component\n        ).length\n        return {\n          ...series,\n          seriesTypeIndex,\n          datums: series.datums.map(datum => ({\n            ...datum,\n            seriesTypeIndex,\n          })),\n        }\n      })\n  }, [materializedData, seriesOptions])\n","import React from 'react'\n\nconst sumAllDimensionProperties = (side = {}, prop) =>\n  Object.keys(side).reduce(\n    (sum, subside) => sum + side[subside]?.[prop] || 0,\n    0\n  )\n\nexport default ({ width, height, axisDimensions }) => {\n  const { gridX, gridY, gridWidth, gridHeight } = React.useMemo(() => {\n    // Left\n    const [axesLeftWidth, axesLeftTop, axesLeftBottom] = [\n      'width',\n      'top',\n      'bottom',\n    ].map(prop => sumAllDimensionProperties(axisDimensions.left, prop))\n\n    const [axesRightWidth, axesRightTop, axesRightBottom] = [\n      'width',\n      'top',\n      'bottom',\n    ].map(prop => sumAllDimensionProperties(axisDimensions.right, prop))\n\n    const [axesTopHeight, axesTopLeft, axesTopRight] = [\n      'height',\n      'left',\n      'right',\n    ].map(prop => sumAllDimensionProperties(axisDimensions.top, prop))\n\n    const [axesBottomHeight, axesBottomLeft, axesBottomRight] = [\n      'height',\n      'left',\n      'right',\n    ].map(prop => sumAllDimensionProperties(axisDimensions.bottom, prop))\n\n    const gridX = Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft)\n    const gridY = Math.max(axesTopHeight, axesLeftTop, axesRightTop)\n    const gridWidth = Math.max(\n      0,\n      width -\n        Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft) -\n        Math.max(axesRightWidth, axesTopRight, axesBottomRight)\n    )\n    const gridHeight = Math.max(\n      0,\n      height -\n        Math.max(axesTopHeight, axesLeftTop, axesRightTop) -\n        Math.max(axesBottomHeight, axesLeftBottom, axesRightBottom)\n    )\n\n    return { gridX, gridY, gridWidth, gridHeight }\n  }, [width, height, axisDimensions])\n\n  return {\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight,\n  }\n}\n","import {\n  scaleLinear,\n  scaleLog,\n  scaleTime,\n  scaleUtc,\n  scaleBand,\n} from '../../d3';\n//\nimport {\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft,\n  axisTypeOrdinal,\n  axisTypeTime,\n  axisTypeUtc,\n  axisTypeLinear,\n  axisTypeLog,\n} from './Constants.js';\n\nimport { identity, translateX, translateY } from './Utils';\n\nimport Bar from '../seriesTypes/Bar';\n\nconst scales = {\n  [axisTypeLinear]: scaleLinear,\n  [axisTypeLog]: scaleLog,\n  [axisTypeTime]: scaleTime,\n  [axisTypeUtc]: scaleUtc,\n  [axisTypeOrdinal]: scaleBand,\n};\n\nconst detectVertical = d => [positionLeft, positionRight].indexOf(d) > -1;\nconst detectRTL = d => [positionTop, positionRight].indexOf(d) > -1;\n\nexport default function buildAxisLinear({\n  axis: {\n    primary,\n    type,\n    invert,\n    position,\n    primaryAxisId,\n    min: userMin = undefined,\n    max: userMax = undefined,\n    hardMin = undefined,\n    hardMax = undefined,\n    base = undefined,\n    tickCount = 10,\n    minTickCount = 1,\n    maxTickCount = 99999999,\n    tickValues = null,\n    format: userFormat = null,\n    tickSizeInner = 6,\n    tickSizeOuter = 6,\n    tickPadding = 10,\n    labelRotation = 60,\n    innerPadding = 0.2,\n    outerPadding = 0.1,\n    showGrid = null,\n    showTicks = true,\n    filterTicks = d => d,\n    show = true,\n    stacked = false,\n    id: userId,\n    estimatedTickSize: userEstimatedTickSize,\n  },\n  materializedData,\n  gridHeight,\n  gridWidth,\n}) {\n  if (!position) {\n    throw new Error(`Chart axes must have a valid 'position' property`);\n  }\n  // Detect some settings\n  const valueKey = primary ? 'primary' : 'secondary';\n  const groupKey = !primary && 'primary';\n  const AxisIdKey = `${valueKey}AxisId`;\n  const vertical = detectVertical(position);\n  const RTL = detectRTL(position); // Right to left OR top to bottom\n  const estimatedTickSize = userEstimatedTickSize ?? vertical ? 20 : 50;\n\n  const id = userId || `${position}_${type}`;\n  const isTimeType = [axisTypeTime, axisTypeUtc].includes(type);\n\n  // TODO: Any sorting needs to happen here, else the min/max's might not line up correctly\n\n  // First we need to find unique values, min/max values and negative/positive totals\n  const uniqueVals = [];\n  let min;\n  let max;\n  let negativeTotalByKey = {};\n  let positiveTotalByKey = {};\n  let domain;\n\n  // Loop through each series\n  for (\n    let seriesIndex = 0;\n    seriesIndex < materializedData.length;\n    seriesIndex++\n  ) {\n    if (\n      materializedData[seriesIndex][AxisIdKey] &&\n      materializedData[seriesIndex][AxisIdKey] !== id\n    ) {\n      continue;\n    }\n    // Loop through each datum\n    for (\n      let datumIndex = 0;\n      datumIndex < materializedData[seriesIndex].datums.length;\n      datumIndex++\n    ) {\n      const datum = materializedData[seriesIndex].datums[datumIndex];\n      let value;\n      const key = groupKey ? datum[groupKey] : datumIndex;\n      // For ordinal scales, unique the values\n      if (type === axisTypeOrdinal) {\n        if (uniqueVals.indexOf() === -1) {\n          uniqueVals.push(\n            materializedData[seriesIndex].datums[datumIndex][valueKey]\n          );\n        }\n      } else if (type === axisTypeTime || type === axisTypeUtc) {\n        value = +datum[valueKey];\n      } else {\n        value = datum[valueKey];\n      }\n\n      // Add to stack total\n      if (stacked) {\n        if (value > 0) {\n          positiveTotalByKey[key] =\n            typeof positiveTotalByKey[key] !== 'undefined'\n              ? positiveTotalByKey[key] + value\n              : value;\n        } else {\n          negativeTotalByKey[key] =\n            typeof negativeTotalByKey[key] !== 'undefined'\n              ? negativeTotalByKey[key] + value\n              : value;\n        }\n      } else {\n        // Find min/max\n        min = typeof min !== 'undefined' ? Math.min(min, value) : value;\n        max = typeof max !== 'undefined' ? Math.max(max, value) : value;\n      }\n    }\n  }\n\n  if (type === axisTypeOrdinal) {\n    domain = uniqueVals;\n  } else if (stacked) {\n    domain = [\n      Math.min(0, ...Object.values(negativeTotalByKey)),\n      Math.max(0, ...Object.values(positiveTotalByKey)),\n    ];\n  } else {\n    domain = [min, max];\n  }\n\n  // Now we need to figure out the range\n  let range = [0, vertical ? gridHeight : gridWidth]; // axes by default read from top to bottom and left to right\n  if (vertical && !primary) {\n    // Vertical secondary ranges get inverted by default\n    range.reverse();\n  }\n\n  // Give the scale a home\n  let scale;\n\n  // If this is an ordinal or other primary axis, it needs to be able to display bars.\n  let bandScale;\n  let barSize = 0;\n  let cursorSize = 0;\n  let stepSize = 0;\n\n  let seriesBandScale = d => d;\n  let seriesBarSize = 1;\n\n  if (type === axisTypeOrdinal || primary) {\n    // Calculate a band axis that is similar and pass down the bandwidth\n    // just in case.\n    bandScale = scaleBand()\n      .domain(\n        materializedData\n          .reduce(\n            (prev, current) =>\n              current.datums.length > prev.length ? current.datums : prev,\n            []\n          )\n          .map(d => d.primary)\n      )\n      .rangeRound(range, 0.1)\n      .padding(0);\n\n    bandScale.paddingOuter(outerPadding).paddingInner(innerPadding);\n    barSize = bandScale.bandwidth();\n\n    if (type === axisTypeOrdinal) {\n      cursorSize = barSize;\n    }\n\n    // barSize = bandScale.bandwidth()\n    stepSize = bandScale.step();\n\n    // Create a seriesBandScale in case this axis isn't stacked\n    seriesBandScale = scaleBand()\n      .paddingInner(innerPadding / 2)\n      .domain(\n        materializedData.filter(d => d.Component === Bar).map((d, i) => i)\n      )\n      .rangeRound([0, barSize]);\n\n    seriesBarSize = seriesBandScale.bandwidth();\n  }\n\n  if (type === axisTypeOrdinal) {\n    // If it's ordinal, just assign the bandScale we made\n    scale = bandScale;\n  } else {\n    // Otherwise, create a new scale of the appropriate type\n    scale = scales[type]();\n  }\n\n  // Set base, min, and max\n  if (typeof base === 'number') {\n    domain[0] = Math.min(domain[0], base);\n    domain[1] = Math.max(domain[1], base);\n  }\n  if (typeof defaultMin === 'number') {\n    domain[0] = Math.min(domain[0], userMin);\n  }\n  if (typeof defaultMax === 'number') {\n    domain[1] = Math.max(domain[1], userMax);\n  }\n\n  // Set the domain\n  scale.domain(domain);\n\n  // If we're not using an ordinal scale, round the ticks to \"nice\" values\n  if (type !== axisTypeOrdinal) {\n    scale.nice();\n  }\n\n  // If hard min and max are set, override any \"nice\" rounding values\n  if (typeof hardMin === 'number') {\n    scale.domain([hardMin, scale.domain()[1]]);\n  }\n  if (typeof hardMax === 'number') {\n    scale.domain([scale.domain()[0], hardMax]);\n  }\n\n  // Invert if necessary\n  if (invert) {\n    scale.domain([...scale.domain()].reverse());\n  }\n\n  // Now set the range\n  scale.range(range);\n\n  const scaleFormat = scale.tickFormat ? scale.tickFormat() : identity;\n\n  const format = userFormat\n    ? (value, index) => userFormat(value, index, scaleFormat(value))\n    : scaleFormat;\n\n  let resolvedTickCount = tickCount;\n\n  const ticks = filterTicks(\n    tickValues ||\n      (scale.ticks ? scale.ticks(resolvedTickCount) : scale.domain())\n  );\n\n  const scaleMax =\n    position === positionBottom\n      ? -gridHeight\n      : position === positionLeft\n      ? gridWidth\n      : position === positionTop\n      ? gridHeight\n      : -gridWidth;\n\n  const directionMultiplier =\n    position === positionTop || position === positionLeft ? -1 : 1;\n\n  const transform = !vertical ? translateX : translateY;\n\n  const spacing = Math.max(tickSizeInner, 0) + tickPadding;\n\n  // Pass down the axis config (including the scale itself) for posterity\n  const axis = {\n    id,\n    primary,\n    type,\n    invert,\n    position,\n    primaryAxisId,\n    hardMin,\n    hardMax,\n    base,\n    isTimeType,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    tickValues,\n    tickSizeInner,\n    tickSizeOuter,\n    tickPadding,\n    labelRotation,\n    innerPadding,\n    outerPadding,\n    showGrid,\n    showTicks,\n    show,\n    stacked,\n    scale,\n    uniqueVals,\n    vertical,\n    RTL,\n    barSize,\n    cursorSize,\n    stepSize,\n    seriesBandScale,\n    seriesBarSize,\n    domain,\n    range,\n    max: scaleMax,\n    directionMultiplier,\n    transform,\n    ticks,\n    format,\n    spacing,\n    estimatedTickSize,\n  };\n\n  if (type === axisTypeOrdinal) {\n    axis.gridOffset = -(axis.stepSize * innerPadding) / 2;\n    axis.tickOffset = axis.barSize / 2;\n    axis.barOffset = 0;\n  } else {\n    axis.tickOffset = 0;\n    axis.barOffset = -axis.barSize / 2;\n  }\n\n  return axis;\n}\n","// import buildAxisPie from './buildAxis.pie'\nimport buildAxisLinear from \"./buildAxis.linear\";\n\nexport default function(config) {\n  // if (config.type === 'pie') {\n  // return buildAxisPie(config)\n  // }\n  return buildAxisLinear(config);\n}\n","import React from 'react'\n//\nimport buildAxis from '../../utils/buildAxis'\n\nexport default ({ axes, materializedData, gridHeight, gridWidth }) => {\n  // Detect axes changes and build axes\n  let prePrimaryAxes = axes.filter(d => d.primary)\n  let preSecondaryAxes = axes.filter(d => !d.primary)\n\n  const primaryAxesHashes = JSON.stringify(prePrimaryAxes)\n  const secondaryAxesHashes = JSON.stringify(preSecondaryAxes)\n\n  // Calculate primary axes\n  const primaryAxes = React.useMemo(\n    () => {\n      return prePrimaryAxes.map((axis, i) => {\n        return buildAxis({\n          axis,\n          materializedData,\n          gridWidth,\n          gridHeight,\n        })\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [primaryAxesHashes, materializedData, gridHeight, gridWidth]\n  )\n  // Calculate secondary axes\n  const secondaryAxes = React.useMemo(\n    () => {\n      return preSecondaryAxes.map((axis, i) => {\n        return buildAxis({\n          axis,\n          primaryAxes,\n          materializedData,\n          gridWidth,\n          gridHeight,\n        })\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [secondaryAxesHashes, materializedData, gridHeight, gridWidth]\n  )\n\n  // Make sure we're mapping x and y to the correct axes\n  const xKey = primaryAxes.find(d => d.vertical) ? 'secondary' : 'primary'\n  const yKey = primaryAxes.find(d => d.vertical) ? 'primary' : 'secondary'\n  const xAxes = primaryAxes.find(d => d.vertical) ? secondaryAxes : primaryAxes\n  const yAxes = primaryAxes.find(d => d.vertical) ? primaryAxes : secondaryAxes\n\n  return {\n    primaryAxes,\n    secondaryAxes,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes,\n  }\n}\n","import React from 'react'\n//\nimport { getAxisIndexByAxisId, isValidPoint } from '../../utils/Utils'\n\nimport {\n  groupingSingle,\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary,\n} from '../../utils/Constants'\n\nexport default ({\n  materializedData,\n  primaryAxes,\n  secondaryAxes,\n  yAxes,\n  yKey,\n  xAxes,\n  xKey,\n  grouping,\n  defaultColors,\n}) => {\n  // Make stackData\n  return React.useMemo(() => {\n    // We need materializedData and both axes to continue\n    if (!primaryAxes.length || !secondaryAxes.length) {\n      throw new Error('A primary and secondary axis is required!')\n    }\n\n    // If the axes are ready, let's decorate the materializedData for visual plotting\n    // \"totals\" are kept per secondaryAxis and used for bases if secondaryAxis stacking is enabled\n    const scaleTotals = secondaryAxes.map(() => ({}))\n    materializedData.forEach(series => {\n      const axisIndex = getAxisIndexByAxisId(\n        secondaryAxes,\n        series.secondaryAxisId\n      )\n      series.datums.forEach(datum => {\n        scaleTotals[axisIndex][datum.primary] = {\n          negative: 0,\n          positive: 0,\n        }\n      })\n    })\n\n    // Determine the correct primary and secondary values for each axis\n    // Also calculate bases and totals if either axis is stacked\n    let stackData = materializedData.map(series => {\n      const primaryAxisIndex = getAxisIndexByAxisId(\n        primaryAxes,\n        series.primaryAxisId\n      )\n      const primaryAxis = primaryAxes[primaryAxisIndex]\n      const secondaryAxisIndex = getAxisIndexByAxisId(\n        secondaryAxes,\n        series.secondaryAxisId\n      )\n      const secondaryAxis = secondaryAxes[secondaryAxisIndex]\n      return {\n        ...series,\n        primaryAxis,\n        secondaryAxis,\n        datums: series.datums.map(d => {\n          const datum = {\n            ...d,\n            primaryAxis,\n            secondaryAxis,\n            xValue: d[xKey],\n            yValue: d[yKey],\n            baseValue: 0,\n          }\n          if (secondaryAxis.stacked) {\n            const start = scaleTotals[secondaryAxisIndex][d.primary]\n            // Stack the x or y values (according to axis positioning)\n            if (primaryAxis.vertical) {\n              // Is this a valid point?\n              const validPoint = isValidPoint(datum.xValue)\n              // Should we use positive or negative base?\n              const totalKey = datum.xValue >= 0 ? 'positive' : 'negative'\n              // Assign the base\n              datum.baseValue = start[totalKey]\n              // Add the value for a total\n              datum.totalValue =\n                datum.baseValue + (validPoint ? datum.xValue : 0)\n              // Update the totals\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] =\n                datum.totalValue\n              // Make the total the new value\n              datum.xValue = validPoint ? datum.totalValue : null\n            } else {\n              // Is this a valid point?\n              const validPoint = isValidPoint(datum.yValue)\n              // Should we use positive or negative base?\n              const totalKey = datum.yValue >= 0 ? 'positive' : 'negative'\n              // Assign the base\n              datum.baseValue = start[totalKey]\n              // Add the value to the base\n              datum.totalValue =\n                datum.baseValue + (validPoint ? datum.yValue : 0)\n              // Update the totals\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] =\n                datum.totalValue\n              // Make the total the new value\n              datum.yValue = validPoint ? datum.totalValue : null\n            }\n          }\n          return datum\n        }),\n      }\n    })\n\n    stackData.forEach(series => {\n      series.datums.forEach(datum => {\n        datum.series = series\n      })\n    })\n\n    // Use the plotDatum method on each series\n    stackData.forEach((series, i) => {\n      if (!series.Component.plotDatum) {\n        throw new Error(\n          `Could not find a [SeriesType].plotDatum() static method for the series Component above (index: ${i})`\n        )\n      }\n\n      const primaryAxisIndex = getAxisIndexByAxisId(\n        primaryAxes,\n        series.primaryAxisId\n      )\n      const secondaryAxisIndex = getAxisIndexByAxisId(\n        secondaryAxes,\n        series.secondaryAxisId\n      )\n\n      const primaryAxis = primaryAxes[primaryAxisIndex]\n      const secondaryAxis = secondaryAxes[secondaryAxisIndex]\n\n      const xAxisIndex = getAxisIndexByAxisId(xAxes, series[`${xKey}AxisId`])\n      const yAxisIndex = getAxisIndexByAxisId(yAxes, series[`${yKey}AxisId`])\n\n      const xAxis = xAxes[xAxisIndex]\n      const yAxis = yAxes[yAxisIndex]\n\n      series.datums = series.datums.map(d => {\n        // Data for cartesian charts\n        const result = series.Component.plotDatum(d, {\n          primaryAxis,\n          secondaryAxis,\n          xAxis,\n          yAxis,\n        })\n\n        return result || d\n      })\n    })\n\n    // Do any data grouping ahead of time using\n    if ([groupingSingle, groupingSeries].includes(grouping)) {\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          datum.group =\n            grouping === groupingSeries ? datum.series.datums : [datum]\n        }\n      }\n    } else if ([groupingPrimary, groupingSecondary].includes(grouping)) {\n      const datumsByGrouping = {}\n\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          if (!datum.defined) {\n            continue\n          }\n          const axisKey = String(\n            grouping === groupingPrimary ? datum.primary : datum.secondary\n          )\n\n          datumsByGrouping[axisKey] = datumsByGrouping[axisKey] || []\n          datumsByGrouping[axisKey].push(datum)\n        }\n      }\n\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          const axisKey = String(\n            grouping === groupingPrimary ? datum.primary : datum.secondary\n          )\n\n          datum.group = datumsByGrouping[axisKey]\n        }\n      }\n    }\n\n    // Not we need to precalculate all of the possible status styles by\n    // calling the seemingly 'live' getSeriesStyle, and getDatumStyle callbacks ;)\n    stackData = stackData.map((series, i) => {\n      if (!series.Component.buildStyles) {\n        throw new Error(\n          `Could not find a SeriesType.buildStyles() static method for the series Component above (index: ${i})`\n        )\n      }\n      const result = series.Component.buildStyles(series, {\n        defaultColors,\n      })\n\n      return result || series\n    })\n\n    return stackData\n  }, [\n    primaryAxes,\n    secondaryAxes,\n    materializedData,\n    grouping,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes,\n    defaultColors,\n  ])\n}\n","import React from 'react';\n//\n//\nimport {\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary,\n} from '../utils/Constants';\n\nconst showCount = 10;\n\nfunction getSecondaryFormatter(datum, formatSecondary) {\n  return (\n    formatSecondary ||\n    datum.secondaryAxis.format ||\n    (val => (Math.floor(val) < val ? Math.round(val * 100) / 100 : val))\n  );\n}\n\nexport default function TooltipRenderer(props) {\n  const {\n    datum,\n    grouping,\n    primaryAxis,\n    secondaryAxis,\n    formatSecondary,\n    formatTertiary,\n    getStyle,\n    dark,\n    tooltip,\n  } = props;\n\n  if (!datum) {\n    return null;\n  }\n\n  const resolvedFormatTertiary =\n    formatTertiary ||\n    (val => (Math.floor(val) < val ? Math.round(val * 100) / 100 : val));\n\n  const sortedGroupDatums = [...datum.group].sort((a, b) => {\n    if (\n      (!primaryAxis.stacked && grouping === groupingSeries) ||\n      grouping === groupingSecondary\n    ) {\n      if (a.primaryCoord > b.primaryCoord) {\n        return -1;\n      } else if (a.primaryCoord < b.primaryCoord) {\n        return 1;\n      }\n    } else if (!secondaryAxis.stacked) {\n      if (a.secondaryCoord > b.secondaryCoord) {\n        return -1;\n      } else if (a.secondaryCoord < b.secondaryCoord) {\n        return 1;\n      }\n    }\n    return a.seriesIndex > b.seriesIndex ? 1 : -1;\n  });\n\n  if (grouping === groupingPrimary) {\n    sortedGroupDatums.reverse();\n  }\n\n  if (secondaryAxis.invert) {\n    sortedGroupDatums.reverse();\n  }\n\n  if (tooltip.invert) {\n    sortedGroupDatums.reverse();\n  }\n\n  const resolvedShowCount = showCount % 2 === 0 ? showCount : showCount + 1;\n  const length = sortedGroupDatums.length;\n\n  // Get the focused series' index\n  const activeIndex = sortedGroupDatums.findIndex(d => d === datum);\n  // Get the start by going back half of the showCount\n  let start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0;\n  // Make sure it's at least 0\n  start = Math.max(start, 0);\n  // Use the start and add the showCount to get the end\n  let end = activeIndex > -1 ? start + resolvedShowCount : length;\n  // Don't let the end go passed the length\n  end = Math.min(end, length);\n  // Double check we aren't clipping the start\n  start = Math.max(end - resolvedShowCount, 0);\n  // Slice the datums by start and end\n  const visibleSortedGroupDatums = sortedGroupDatums.slice(start, end);\n  // Detect if we have previous items\n  const hasPrevious = start > 0;\n  // Or next items\n  const hasNext = end < length;\n\n  return (\n    <div>\n      <div\n        style={{\n          marginBottom: '3px',\n          textAlign: 'center',\n        }}\n      >\n        {grouping === groupingSeries ? (\n          <strong>{datum.seriesLabel}</strong>\n        ) : grouping === groupingSecondary ? (\n          <strong>{datum.secondaryAxis.format(datum.secondary)}</strong>\n        ) : (\n          <strong>{datum.primaryAxis.format(datum.primary)}</strong>\n        )}\n      </div>\n      <table\n        style={{\n          whiteSpace: 'nowrap',\n        }}\n      >\n        <tbody>\n          {hasPrevious ? (\n            <tr\n              style={{\n                opacity: 0.8,\n              }}\n            >\n              <td />\n              <td>...</td>\n              <td />\n            </tr>\n          ) : null}\n          {visibleSortedGroupDatums.map((sortedDatum, i) => {\n            const active = sortedDatum === datum;\n            const resolvedSecondaryFormat = getSecondaryFormatter(\n              sortedDatum,\n              formatSecondary\n            );\n\n            return (\n              <tr\n                key={i}\n                style={{\n                  opacity: active ? 1 : 0.8,\n                  fontWeight: active && 'bold',\n                }}\n              >\n                <td\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    marginRight: '5px',\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\">\n                    <circle\n                      cx=\"8\"\n                      cy=\"8\"\n                      r=\"7\"\n                      style={{\n                        ...getStyle(sortedDatum),\n                        stroke: dark ? 'black' : 'white',\n                        strokeWidth: active ? 2 : 1,\n                      }}\n                    />\n                  </svg>\n                </td>\n                {grouping === groupingSeries ? (\n                  <React.Fragment>\n                    <td>{primaryAxis.format(sortedDatum.primary)}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {resolvedSecondaryFormat(\n                        sortedDatum.secondary,\n                        sortedDatum\n                      )}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                ) : grouping === groupingSecondary ? (\n                  <React.Fragment>\n                    <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {primaryAxis.format(sortedDatum.primary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                ) : (\n                  <React.Fragment>\n                    <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {resolvedSecondaryFormat(\n                        sortedDatum.secondary,\n                        sortedDatum\n                      )}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                )}\n              </tr>\n            );\n          })}\n          {hasNext ? (\n            <tr\n              style={{\n                opacity: 0.8,\n              }}\n            >\n              <td />\n              <td>...</td>\n              <td />\n            </tr>\n          ) : null}\n          {secondaryAxis && secondaryAxis.stacked && datum.group.length > 1 ? (\n            <tr>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                <div\n                  style={{\n                    width: '12px',\n                    height: '12px',\n                    backgroundColor: dark\n                      ? 'rgba(0, 26, 39, 0.3)'\n                      : 'rgba(255,255,255,.2)',\n                    borderRadius: '50px',\n                  }}\n                />\n              </td>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                Total: &nbsp;\n              </td>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                {secondaryAxis.format([...datum.group].reverse()[0].totalValue)}\n              </td>\n            </tr>\n          ) : null}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","import React from 'react'\nimport TooltipRenderer from '../TooltipRenderer'\n\nimport {\n  alignAuto,\n  alignRight,\n  alignTopRight,\n  alignBottomRight,\n  alignLeft,\n  alignTopLeft,\n  alignBottomLeft,\n  alignTop,\n  alignBottom,\n} from '../../utils/Constants'\n\nexport default ({ focused, tooltip, pointer, gridWidth, gridHeight }) => {\n  return React.useMemo(() => {\n    if (!tooltip) {\n      return null\n    }\n    // Default tooltip props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    tooltip = {\n      align: alignAuto,\n      alignPriority: [\n        alignRight,\n        alignTopRight,\n        alignBottomRight,\n        alignLeft,\n        alignTopLeft,\n        alignBottomLeft,\n        alignTop,\n        alignBottom,\n      ],\n      padding: 5,\n      tooltipArrowPadding: 7,\n      anchor: 'closest',\n      render: TooltipRenderer,\n      onChange: () => {},\n      ...tooltip,\n    }\n    let anchor = {}\n    let show = true\n\n    // If there is a focused datum, default the focus to its x and y\n    if (focused) {\n      anchor = focused.anchor\n    } else {\n      show = false\n    }\n\n    if (tooltip.anchor === 'pointer') {\n      // Support pointer-bound focus\n      anchor = pointer\n    } else if (tooltip.anchor === 'closest') {\n      // Do nothing, this is already calculated\n    } else if (focused) {\n      // Support manual definition of focus point using relative multiFocus strategy\n      const multiFocus = Array.isArray(tooltip.anchor)\n        ? [...tooltip.anchor]\n        : [tooltip.anchor]\n      anchor = getMultiAnchor({\n        anchor: multiFocus,\n        points: focused.group,\n        gridWidth,\n        gridHeight,\n      })\n    }\n\n    anchor = anchor\n      ? {\n          horizontalPadding: anchor.horizontalPadding || 0,\n          verticalPadding: anchor.verticalPadding || 0,\n          ...anchor,\n        }\n      : anchor\n\n    return {\n      ...tooltip,\n      anchor,\n      show,\n    }\n  }, [focused, gridHeight, gridWidth, pointer, tooltip])\n}\n\nfunction getMultiAnchor({ anchor, points, gridWidth, gridHeight }) {\n  const invalid = () => {\n    throw new Error(\n      `${JSON.stringify(\n        anchor\n      )} is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options.`\n    )\n  }\n\n  let x\n  let y\n\n  let xMin = points[0].anchor.x\n  let xMax = points[0].anchor.x\n  let yMin = points[0].anchor.y\n  let yMax = points[0].anchor.y\n\n  points.forEach(point => {\n    xMin = Math.min(point.anchor.x, xMin)\n    xMax = Math.max(point.anchor.x, xMax)\n    yMin = Math.min(point.anchor.y, yMin)\n    yMax = Math.max(point.anchor.y, yMax)\n  })\n\n  if (anchor.length > 2) {\n    return invalid()\n  }\n\n  anchor = anchor.sort(a =>\n    a.includes('center') || a.includes('Center') ? 1 : -1\n  )\n\n  for (let i = 0; i < anchor.length; i++) {\n    const anchorPart = anchor[i]\n\n    // Horizontal Positioning\n    if (['left', 'right', 'gridLeft', 'gridRight'].includes(anchorPart)) {\n      if (typeof x !== 'undefined') {\n        invalid()\n      }\n      if (anchorPart === 'left') {\n        x = xMin\n      } else if (anchorPart === 'right') {\n        x = xMax\n      } else if (anchorPart === 'gridLeft') {\n        x = 0\n      } else if (anchorPart === 'gridRight') {\n        x = gridWidth\n      } else {\n        invalid()\n      }\n    }\n\n    // Vertical Positioning\n    if (['top', 'bottom', 'gridTop', 'gridBottom'].includes(anchorPart)) {\n      if (typeof y !== 'undefined') {\n        invalid()\n      }\n      if (anchorPart === 'top') {\n        y = yMin\n      } else if (anchorPart === 'bottom') {\n        y = yMax\n      } else if (anchorPart === 'gridTop') {\n        y = 0\n      } else if (anchorPart === 'gridBottom') {\n        y = gridHeight\n      } else {\n        invalid()\n      }\n    }\n\n    // Center Positioning\n    if (['center', 'gridCenter'].includes(anchorPart)) {\n      if (anchorPart === 'center') {\n        if (typeof y === 'undefined') {\n          y = (yMin + yMax) / 2\n        }\n        if (typeof x === 'undefined') {\n          x = (xMin + xMax) / 2\n        }\n      } else if (anchorPart === 'gridCenter') {\n        if (typeof y === 'undefined') {\n          y = gridHeight / 2\n        }\n        if (typeof x === 'undefined') {\n          x = gridWidth / 2\n        }\n      } else {\n        invalid()\n      }\n    }\n\n    // Auto center the remainder if there is only one anchorPart listed\n    if (anchor.length === 1) {\n      if (anchor[0].includes('grid')) {\n        anchor.push('gridCenter')\n      } else {\n        anchor.push('center')\n      }\n    }\n  }\n\n  return { x, y }\n}\n","import React from 'react'\n\nimport { getAxisByAxisId } from '../../utils/Utils'\n\nconst defaultCursorProps = {\n  render: ({ formattedValue }) => <span>{formattedValue}</span>,\n  snap: true,\n  showLine: true,\n  showLabel: true,\n  axisId: undefined,\n  onChange: () => {},\n}\n\nexport default ({\n  primaryCursor,\n  secondaryCursor,\n  primaryAxes,\n  secondaryAxes,\n  focused,\n  pointer,\n  gridWidth,\n  gridHeight,\n  stackData,\n}) => {\n  return [primaryCursor, secondaryCursor].map((cursor, i) => {\n    const cursorValue = cursor && cursor.value\n\n    return React.useMemo(() => {\n      if (!cursor) {\n        return\n      }\n      const primary = i === 0\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      cursor = {\n        ...defaultCursorProps,\n        ...cursor,\n        primary,\n      }\n\n      let value\n      let show = false\n\n      // Determine the axis to use\n      const axis = getAxisByAxisId(\n        primary ? primaryAxes : secondaryAxes,\n        cursor.axisId || focused\n          ? focused.series[primary ? 'primaryAxisId' : 'secondaryAxisId']\n          : undefined\n      )\n\n      const siblingAxis = primary ? secondaryAxes[0] : primaryAxes[0]\n\n      // Resolve the invert function\n      const invert = axis.scale.invert || (d => d)\n\n      // If the pointer is active, try to show\n      if (pointer.active) {\n        // Default to cursor x and y\n        let x = pointer.x\n        let y = pointer.y\n        // If the cursor isn't in the grid, don't display\n        if (x < -1 || x > gridWidth + 1 || y < -1 || y > gridHeight + 1) {\n          show = false\n        } else {\n          show = true\n        }\n\n        // Implement snapping\n        if (axis.type === 'ordinal' || cursor.snap) {\n          if (!focused) {\n            show = false\n          } else {\n            if (axis.vertical) {\n              value = focused.yValue\n            } else {\n              value = focused.xValue\n            }\n          }\n        } else if (axis.vertical) {\n          value = invert(y)\n        } else {\n          value = invert(x)\n        }\n      } else {\n        show = false\n      }\n\n      let resolvedShow = show\n      let resolvedValue = value\n\n      if (typeof cursor.value !== 'undefined' && cursor.value !== null) {\n        resolvedValue = cursor.value\n\n        if (typeof cursor.show !== 'undefined') {\n          resolvedShow = cursor.show\n        } else {\n          resolvedShow = true\n        }\n\n        if (typeof axis.scale(resolvedValue) === 'undefined') {\n          resolvedShow = false\n        }\n      }\n\n      return {\n        ...cursor,\n        axis,\n        siblingAxis,\n        show,\n        value,\n        resolvedShow,\n        resolvedValue,\n      }\n    }, [stackData, pointer, cursorValue])\n  })\n}\n","import React from 'react';\n//\nimport { functionalUpdate, getClosestPoint } from '../utils/Utils';\n\nimport useGetLatest from '../hooks/useGetLatest';\nimport useLatest from '../hooks/useLatest';\nimport usePrevious from '../hooks/usePrevious';\nimport useChartState, { createChartState } from '../hooks/useChartState';\nimport { ChartContextProvider } from '../hooks/useChartContext';\n\nimport ChartInner from './ChartInner';\n\nimport useMaterializeData from './pipeline/useMaterializeData';\nimport useSeriesOptions from './pipeline/useSeriesOptions';\nimport useSeriesTypes from './pipeline/useSeriesTypes';\nimport useDimensions from './pipeline/useDimensions';\nimport useAxes from './pipeline/useAxes';\nimport useStackData from './pipeline/useStackData';\nimport useTooltip from './pipeline/useTooltip';\nimport useCursors from './pipeline/useCursors';\n\nimport {\n  groupingPrimary,\n  focusAuto,\n  focusElement,\n  focusClosest,\n} from '../utils/Constants';\nimport { ParentSize } from '@visx/responsive';\n\nconst defaultColorScheme = [\n  '#0f83ab',\n  '#faa43a',\n  '#ff4e4e',\n  '#53cfc9',\n  '#a2d925',\n  '#decf3f',\n  '#734fe9',\n  '#cd82ad',\n  '#006d92',\n  '#de7c00',\n  '#f33232',\n  '#3f9a80',\n  '#53c200',\n  '#d7af00',\n  '#4c26c9',\n  '#d44d99',\n];\n\nfunction applyDefaults({\n  getSeriesStyle = () => ({}),\n  getDatumStyle = () => ({}),\n  getSeriesOrder = d => d,\n  grouping = groupingPrimary,\n  focus = focusAuto,\n  showVoronoi = false,\n  defaultColors = defaultColorScheme,\n  ...rest\n}) {\n  return {\n    getSeriesStyle,\n    getDatumStyle,\n    getSeriesOrder,\n    grouping,\n    focus,\n    showVoronoi,\n    defaultColors,\n    ...rest,\n  };\n}\n\nfunction useCreateStore(initialState) {\n  const storeRef = React.useRef();\n\n  if (!storeRef.current) {\n    storeRef.current = createChartState(initialState);\n  }\n\n  return storeRef.current;\n}\n\nexport default function ChartState(options) {\n  let { Provider: StateProvider } = useCreateStore(setState => {\n    const setOffset = updater =>\n      setState(old => {\n        const newOffset = functionalUpdate(updater, old.offset);\n\n        return {\n          ...old,\n          offset: {\n            left: newOffset.left ?? 0,\n            top: newOffset.top ?? 0,\n          },\n        };\n      });\n\n    return {\n      focused: null,\n      element: null,\n      axisDimensions: {},\n      offset: {},\n      pointer: {},\n      setOffset,\n    };\n  });\n\n  return (\n    <ParentSize>\n      {({ width, height }) => {\n        return (\n          <StateProvider>\n            <Chart {...{ ...options, width, height }} />\n          </StateProvider>\n        );\n      }}\n    </ParentSize>\n  );\n}\n\nexport function Chart(options) {\n  let {\n    width,\n    height,\n    data,\n    grouping,\n    focus,\n    showVoronoi,\n    dark,\n    series,\n    axes,\n    primaryCursor,\n    secondaryCursor,\n    tooltip,\n    brush,\n    renderSVG,\n    getSeriesStyle: getSeriesStyleOriginal,\n    getDatumStyle,\n    onClick,\n    onFocus,\n    getSeriesOrder,\n    defaultColors,\n    ...rest\n  } = applyDefaults(options);\n\n  let [{ focused, element, axisDimensions, pointer }] = useChartState(\n    d => ({\n      focused: d.focused,\n      element: d.element,\n      axisDimensions: d.axisDimensions,\n      pointer: d.pointer,\n    }),\n    'shallow'\n  );\n\n  const responsiveElRef = React.useRef();\n\n  const getOnClick = useGetLatest(onClick);\n  const getOnFocus = useGetLatest(onFocus);\n\n  let materializedData = useMaterializeData({ data });\n\n  const seriesOptions = useSeriesOptions({\n    materializedData,\n    series,\n  });\n\n  materializedData = useSeriesTypes({\n    materializedData,\n    seriesOptions,\n  });\n\n  const { gridX, gridY, gridWidth, gridHeight } = useDimensions({\n    width,\n    height,\n    axisDimensions,\n  });\n\n  const { primaryAxes, secondaryAxes, xKey, yKey, xAxes, yAxes } = useAxes({\n    axes,\n    materializedData,\n    gridHeight,\n    gridWidth,\n  });\n\n  const stackData = useStackData({\n    materializedData,\n    primaryAxes,\n    secondaryAxes,\n    yAxes,\n    yKey,\n    xAxes,\n    xKey,\n    grouping,\n    defaultColors,\n  });\n\n  focused = React.useMemo(() => {\n    // Get the closest focus datum out of the datum group\n    if (focused || element) {\n      let resolvedFocus = focus;\n\n      if (focus === focusAuto) {\n        if (element) {\n          resolvedFocus = focusElement;\n        } else {\n          resolvedFocus = focusClosest;\n        }\n      }\n\n      if (resolvedFocus === focusElement && element) {\n        return element;\n      } else if (resolvedFocus === focusClosest) {\n        return getClosestPoint(pointer, focused.group);\n      }\n    }\n\n    return null;\n  }, [element, focus, focused, pointer]);\n\n  // keep the previous focused value around for animations\n  const latestFocused = useLatest(focused, focused);\n\n  // Calculate Tooltip\n  tooltip = useTooltip({\n    focused,\n    tooltip,\n    pointer,\n    gridWidth,\n    gridHeight,\n  });\n\n  // Cursors\n  [primaryCursor, secondaryCursor] = useCursors({\n    primaryCursor,\n    secondaryCursor,\n    primaryAxes,\n    secondaryAxes,\n    focused,\n    pointer,\n    gridWidth,\n    gridHeight,\n    stackData,\n  });\n\n  const getSeriesStyle = React.useCallback(\n    (series, ...args) => ({\n      color: series.originalSeries.color,\n      ...getSeriesStyleOriginal(series, ...args),\n    }),\n    [getSeriesStyleOriginal]\n  );\n\n  const contextValue = {\n    latestFocused,\n    focused,\n    tooltip,\n    width,\n    height,\n    brush,\n    grouping,\n    showVoronoi,\n    materializedData,\n    stackData,\n    primaryAxes,\n    secondaryAxes,\n    primaryCursor,\n    secondaryCursor,\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight,\n    dark,\n    renderSVG,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes,\n    getOnClick,\n    getSeriesStyle,\n    getDatumStyle,\n    seriesOptions,\n    getSeriesOrder,\n  };\n\n  React.useEffect(() => {\n    if (getOnFocus()) {\n      getOnFocus()(focused);\n    }\n  }, [focused, getOnFocus]);\n\n  const previousDragging = usePrevious(pointer.dragging);\n\n  React.useEffect(() => {\n    if (brush?.onSelect && previousDragging && !pointer.dragging) {\n      if (Math.abs(pointer.sourceX - pointer.x) < 20) {\n        return;\n      }\n      brush.onSelect({\n        pointer: pointer.released,\n        start: primaryAxes[0].scale.invert(pointer.sourceX),\n        end: primaryAxes[0].scale.invert(pointer.x),\n      });\n    }\n  }, [\n    brush,\n    pointer.dragging,\n    pointer.released,\n    pointer.sourceX,\n    pointer.x,\n    previousDragging,\n    primaryAxes,\n  ]);\n\n  return (\n    <ChartContextProvider value={contextValue}>\n      <ChartInner ref={responsiveElRef} {...rest} />\n    </ChartContextProvider>\n  );\n}\n"],"names":["buildStyleGetters","series","defaults","getStatusStyle","focused","decorator","status","getStatus","style","datums","forEach","datum","item","materializeStyles","otherFocused","primary","length","group","i","seriesId","id","index","normalizeColor","stroke","color","fill","elementTypes","type","isValidPoint","d","getClosestPoint","position","closestDistance","Infinity","closestDatum","boundingPoints","pointerPoint","distance","Math","sqrt","x","y","getAxisByAxisId","axes","AxisId","find","getAxisIndexByAxisId","findIndex","translateX","round","translateY","translate","identity","functionalUpdate","updater","old","useGetLatest","obj","ref","React","useRef","getterRef","current","useLatest","when","usePrevious","val","useEffect","window","useLayoutEffect","chartContext","createContext","createChartState","initialState","listeners","api","setState","newState","state","subscribe","cb","push","filter","Provider","children","value","useChartState","selector","eqType","undefined","apiInstance","useContext","useReducer","rerender","slice","valueRef","getSelector","getEqType","useIsomorphicLayoutEffect","eqFn","shallowEq","Object","is","a","b","aKeys","keys","bKeys","some","key","ChartContextProvider","getValue","useChartContext","root","global","vendors","suffix","raf","caf","last","queue","frameDuration","callback","_now","now","next","max","setTimeout","cp","cancelled","e","handle","Raf","fn","call","cancel","apply","arguments","polyfill","object","requestAnimationFrame","cancelAnimationFrame","defaultStyle","strokeWidth","opacity","rx","ry","Rectangle","forwardRef","x1","y1","x2","y2","rest","resolvedStyle","xStart","min","yStart","xEnd","yEnd","height","width","flatIterable","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","from","points","getX","getY","defaultGetX","defaultGetY","n","coords","Float64Array","p","Error","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","ceil","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","update","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","cx","cy","minDist","i0","i1","i2","dist","i0x","i0y","i1x","i1y","minRadius","r","circumradius","i2x","i2y","quicksort","hull","j","d0","subarray","triangles","halfedges","orient","center","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","k","xp","yp","abs","start","q","t","_legalize","floor","pseudoAngle","ar","a0","b0","al","bl","p0","pr","pl","p1","illegal","inCircle","hbl","_link","br","c","dx","dy","ax","ay","bx","by","orientIfSure","px","py","qx","qy","l","sign","ex","ey","fx","fy","ap","bp","cl","ids","dists","left","right","temp","tempDist","median","swap","arr","tmp","epsilon","Path","_x0","_y0","_x1","_y1","_","moveTo","closePath","lineTo","arc","x0","y0","rect","w","h","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","t1","t2","t3","x3","y3","ab","render","context","buffer","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","v","_project","renderBounds","renderCell","_clip","cellPolygons","cell","cellPolygon","polygon","S","c0","_regioncode","c1","_clipSegment","contains","_step","neighbors","ci","cj","ai","li","aj","lj","_cell","e0","V","_clipInfinite","_clipFinite","P","e1","sx0","sy0","sx1","sy1","_edgecode","_edge","vx0","vy0","vxn","vyn","Array","unshift","splice","vx","vy","tau","PI","pointX","pointY","collinear","cross","jitter","sin","cos","Delaunay","that","flatArray","_delaunator","_hullIndex","sort","f","bounds","hypot","hullIndex","voronoi","indexOf","dc","dt","renderHull","renderPoints","hullPolygon","renderTriangle","t0","trianglePolygons","trianglePolygon","array","ascending","NaN","bisector","delta","compare","ascendingComparator","lo","hi","mid","number","ascendingBisect","bisectRight","bisectCenter","e10","e5","e2","ticks","stop","count","reverse","step","tickIncrement","isFinite","r0","r1","power","log","LN10","error","tickStep","step0","step1","sequence","range","initRange","domain","implicit","Symbol","ordinal","Map","unknown","scale","get","set","has","copy","band","ordinalRange","bandwidth","paddingInner","paddingOuter","align","rescale","values","map","rangeRound","padding","define","constructor","factory","prototype","extend","parent","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","channels","assign","displayable","rgb","hex","color_formatHex","formatHex","formatHsl","color_formatHsl","formatRgb","color_formatRgb","toString","hslConvert","format","m","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","g","rgbConvert","o","rgb_formatHex","rgb_formatRgb","isNaN","s","Hsl","hsl","m2","m1","hsl2rgb","constant","linear","exponential","gamma","nogamma","rgb$1","rgbGamma","end","numberArray","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","interpolate","date","Date","setTime","interpolateNumber","reA","reB","source","zero","one","string","bi","lastIndex","am","bm","bs","join","isArray","valueOf","interpolateRound","constants","number$1","unit","normalize","clamper","bimap","d1","polymap","target","clamp","transformer","interpolate$1","transform","untransform","piecewise","output","input","invert","u","continuous","formatDecimal","toLocaleString","replace","formatDecimalParts","toExponential","coefficient","exponent","formatGroup","grouping","thousands","substring","formatNumerals","numerals","re","formatSpecifier","specifier","match","FormatSpecifier","symbol","comma","precision","formatTrim","out","prefixExponent","formatPrefixAuto","formatRounded","formatTypes","toFixed","toPrecision","toUpperCase","identity$1","prefixes","formatLocale","locale","Number","currencyPrefix","currency","currencySuffix","decimal","String","percent","minus","nan","newFormat","prefix","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","formatPrefix","defaultLocale","precisionFixed","precisionPrefix","precisionRound","tickFormat","linearish","nice","prestep","maxIter","linear$1","interval","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","powp","base","E","logp","log10","log2","reflect","loggish","logs","pows","z","newInterval","floori","offseti","field","offset","previous","every","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","timeTicks","timeTickInterval","localDate","H","M","L","utcDate","UTC","newDate","formatLocale$1","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","X","pad","pads","charAt","newParse","Z","parseSpecifier","day$1","Q","W","U","parse","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","names","name","dISO","getUTCMilliseconds","dow","UTCdISO","locale$1","timeFormat","defaultLocale$1","timeParse","date$1","number$2","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","utcTime","pi","tau$1","epsilon$1","tauEpsilon","Path$1","path","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","a1","ccw","cw","da","constant$1","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","point","curveLinear","line","x$1","y$1","defined","curve","data","defined0","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","positionTop","positionRight","positionBottom","positionLeft","groupingSingle","groupingSeries","groupingPrimary","groupingSecondary","alignAuto","alignRight","alignTopRight","alignBottomRight","alignLeft","alignTopLeft","alignBottomLeft","alignTop","alignBottom","axisTypeOrdinal","axisTypeTime","axisTypeUtc","axisTypeLinear","axisTypeLog","anchorPointer","anchorClosest","anchorCenter","anchorTop","anchorBottom","anchorLeft","anchorRight","anchorGridTop","anchorGridBottom","anchorGridLeft","anchorGridRight","focusAuto","focusClosest","focusElement","lineFn","VoronoiElement","className","stackData","primaryAxes","secondaryAxes","showVoronoi","gridWidth","gridHeight","onFocus","onClick","tooltip","primaryCursor","secondaryCursor","setChartState","handleFocus","useCallback","needsVoronoi","useMemo","extent","props","PrimaryVoronoi","ClosestVoronoi","primaryAxis","isVertical","vertical","datumBoundaries","boundingPoint","primaryCoord","secondaryCoord","groupedBoundaries","datumBoundary","sortedPrimaryKeys","columns","primaryKey","prev","primaryStart","primaryEnd","secondaryStart","secondaryEnd","column","Fragment","seriesIndex","onMouseEnter","onMouseLeave","polygons","voronoiData","flatExtent","flat","Line","fontFamily","fontSize","Text","Group","getElBox","el","getBoundingClientRect","top","bottom","useIsLooping","callThreshold","timeLimit","shift","isLooping","useMeasure","elRef","rotation","showRotated","setShowRotated","tickSizeInner","tickSizeOuter","labelRotation","tickPadding","show","axisDimensions","axisDimension","measureDimensions","gridSize","unrotatedLabelDims","querySelectorAll","widestLabel","reduce","label","smallestTickGap","shouldRotate","newAxes","newDimensions","domainDims","querySelector","measureDims","labels","largestW","largestH","widestRealLabel","tallestRealLabel","leftMostLabelDim","labelDim","rightMostLabelDim","topMostLabelDim","bottomMostLabelDim","defaultStyles","tick","AxisLinear","axis","showGrid","showTicks","styles","scaleMax","range0","range1","directionMultiplier","tickOffset","gridOffset","spacing","useState","setRotation","dark","axisPath","showGridLine","axisStyles","renderAxis","isRotated","pointerEvents","dominantBaseline","textAnchor","Axis","triangleSize","getBackgroundColor","Tooltip","gridX","gridY","latestFocused","getDatumStyle","tooltipElRef","previousShowRef","alignPriority","tooltipArrowPadding","arrowPosition","anchor","finalAlign","setFinalAlign","space","container","gridDims","tooltipDims","document","body","parentElement","getComputedStyle","overflowX","overflowY","includes","containerDims","resolvedAlign","priority","fits","horizontalPadding","verticalPadding","centeredFromLeft","centeredFromRight","centeredFromTop","centeredFromBottom","resolvedFocused","alignX","alignY","triangleStyles","backgroundColor","resolvedArrowPosition","borderLeft","borderRight","borderTop","borderBottom","primaryAxisId","secondaryAxis","secondaryAxisId","resolvedHorizontalPadding","resolvedVerticalPadding","renderProps","getStyle","renderedChildren","createElement","animateCoords","transition","background","borderRadius","getLineBackgroundColor","Cursor","cursor","showLine","showLabel","resolvedValue","snap","siblingAxis","resolvedShow","latestValue","animated","siblingRange","alignPctX","alignPctY","cursorSize","lineStartX","lineStartY","lineEndX","lineEndY","lineHeight","lineWidth","bubbleX","bubbleY","RTL","formattedValue","stacked","totalValue","whiteSpace","Brush","brush","pointer","dragging","sourceX","ChartInner","svgRef","renderSVG","seriesOptions","getSeriesOrder","getOnClick","setOffset","active","rafRef","onMouseMove","clientX","clientY","down","onMouseUp","removeEventListener","released","onMouseDown","addEventListener","sourceY","reversedStackData","orderedStackData","focusedSeriesIndex","focusOrderedStackData","stacks","stack","Component","overflow","persist","materializedData","originalSeries","seriesLabel","originalDatums","datumIndex","originalDatum","secondary","radius","useSeriesStyle","getSeriesStyle","useDatumStyle","Circle","pathDefaultStyle","circleDefaultStyle","showPoints","pathProps","Point","defaultProps","curveMonotoneX","plotDatum","xAxis","yAxis","xValue","yValue","baseValue","buildStyles","defaultColors","dataStyle","circleProps","circle","element","Bubble","defaultAreaStyle","defaultLineStyle","Area","showOrphans","areaFn","areaPath","linePath","areaPathProps","linePathProps","all","OrphanLine","lineProps","Bar","barOffset","BarPiece","size","rectangleProps","rectangle","barSize","seriesBarSize","seriesBandScaleOffset","seriesBandScale","seriesTypeIndex","seriesTypes","bubble","bar","defaultSeries","renderer","sumAllDimensionProperties","side","prop","sum","subside","axesLeftWidth","axesLeftTop","axesLeftBottom","axesRightWidth","axesRightTop","axesRightBottom","axesTopHeight","axesTopLeft","axesTopRight","axesBottomHeight","axesBottomLeft","axesBottomRight","scales","scaleLinear","scaleLog","scaleTime","scaleUtc","scaleBand","detectVertical","detectRTL","buildAxisLinear","userMin","userMax","hardMin","hardMax","tickCount","minTickCount","maxTickCount","tickValues","userFormat","innerPadding","outerPadding","filterTicks","userId","userEstimatedTickSize","estimatedTickSize","valueKey","groupKey","AxisIdKey","isTimeType","uniqueVals","negativeTotalByKey","positiveTotalByKey","bandScale","stepSize","defaultMin","defaultMax","scaleFormat","resolvedTickCount","config","prePrimaryAxes","preSecondaryAxes","primaryAxesHashes","JSON","stringify","secondaryAxesHashes","buildAxis","xKey","yKey","xAxes","yAxes","scaleTotals","axisIndex","negative","positive","primaryAxisIndex","secondaryAxisIndex","validPoint","totalKey","xAxisIndex","yAxisIndex","result","datumsByGrouping","axisKey","showCount","getSecondaryFormatter","formatSecondary","TooltipRenderer","formatTertiary","resolvedFormatTertiary","sortedGroupDatums","resolvedShowCount","activeIndex","visibleSortedGroupDatums","hasPrevious","hasNext","marginBottom","textAlign","sortedDatum","resolvedSecondaryFormat","fontWeight","display","alignItems","justifyContent","marginRight","paddingTop","onChange","multiFocus","getMultiAnchor","invalid","xMin","xMax","yMin","yMax","anchorPart","defaultCursorProps","axisId","cursorValue","defaultColorScheme","applyDefaults","focus","useCreateStore","storeRef","ChartState","options","newOffset","StateProvider","ParentSize","Chart","getSeriesStyleOriginal","responsiveElRef","getOnFocus","useMaterializeData","useSeriesOptions","useSeriesTypes","useDimensions","useAxes","useStackData","resolvedFocus","useTooltip","useCursors","args","contextValue","previousDragging","onSelect"],"mappings":"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"}